import{i as D}from"./chunk-7XBOO3UA.js";import{a as T}from"./chunk-7C3C72CK.js";import{l as E,m as I,q as R}from"./chunk-D6F33BNN.js";import{$a as l,Aa as k,Ea as n,Sa as u,Va as p,Wa as S,Ya as f,Z as _,Za as e,_a as t,ba as w,cb as v,fb as x,gb as c,ka as b,kb as i,la as y,lb as s,mb as g,nb as C,ub as O}from"./chunk-QF7ULWVN.js";function U(d,a){d&1&&(e(0,"span",90),i(1," Expires soon "),t())}function j(d,a){if(d&1){let r=v();e(0,"div",77)(1,"div",78)(2,"div",79)(3,"div",80)(4,"span",81),l(5,"i",82),i(6),t(),u(7,U,2,0,"span",83),t(),e(8,"h4",84),i(9),t(),e(10,"p",85),i(11),t(),e(12,"div",86)(13,"span"),l(14,"i",87),i(15),t(),e(16,"span"),l(17,"i",88),i(18),t()()(),e(19,"button",89),x("click",function(){let m=b(r).$implicit,h=c();return y(h.applyOffer(m))}),i(20," Apply "),t()()()}if(d&2){let r=a.$implicit,o=c();f(o.getOfferBorderClass(r.type)),n(4),f(o.getOfferBadgeClass(r.type)),n(),f(r.icon),n(),g("",r.typeLabel," "),n(),p("ngIf",r.expiresSoon),n(2),s(r.title),n(2),s(r.description),n(4),s(r.validUntil),n(3),s(r.code)}}function P(d,a){if(d&1){let r=v();e(0,"div",91),x("click",function(){let m=b(r).$implicit,h=c();return y(h.redeemReward(m))}),e(1,"div",92)(2,"div",93),l(3,"i",94),t(),e(4,"h4",95),i(5),t(),e(6,"p",96),i(7),t(),e(8,"div",97),l(9,"i",98),e(10,"span",99),i(11),t()()()()}if(d&2){let r=a.$implicit;n(2),f(r.iconBg),n(),f(r.iconColor),n(2),s(r.title),n(2),s(r.description),n(4),s(r.pointsRequired)}}function B(d,a){if(d&1&&(e(0,"div",100)(1,"div",2)(2,"div",3)(3,"div",101),l(4,"i",102),t(),e(5,"div")(6,"p",103),i(7),t(),e(8,"p",8),i(9),t()()(),e(10,"div",13)(11,"div",104),l(12,"i",98),e(13,"span",105),i(14),t()()()()()),d&2){let r=a.$implicit,o=c();n(3),f(r.type==="earned"?"bg-green-100 dark:bg-green-900/30 text-green-600":"bg-blue-100 dark:bg-blue-900/30 text-blue-600"),n(),f(r.icon),n(3),s(r.description),n(2),s(o.formatDate(r.date)),n(4),f(r.type==="earned"?"text-green-600":"text-blue-600"),n(),C(" ",r.type==="earned"?"+":"-","",r.points," ")}}function M(d,a){if(d&1&&(e(0,"span",106),i(1),t()),d&2){let r=c();n(),g(" ",r.cartItemCount," ")}}function V(d,a){if(d&1){let r=v();e(0,"div",107)(1,"div",108)(2,"div",109)(3,"div",110)(4,"h3",39),i(5,"Offer Details"),t(),e(6,"button",111),x("click",function(){b(r);let m=c();return y(m.closeOfferDetails())}),l(7,"i",112),t()(),e(8,"div",113)(9,"div",114),l(10,"i",115),t(),e(11,"h4",116),i(12),t(),e(13,"p",117),i(14),t()(),e(15,"div",118)(16,"div",119)(17,"span",120),i(18,"Valid Until"),t(),e(19,"span",121),i(20),t()(),e(21,"div",119)(22,"span",120),i(23,"Offer Code"),t(),e(24,"span",122),i(25),t()(),e(26,"div",123)(27,"span",120),i(28,"Terms & Conditions"),t(),e(29,"button",56),i(30,"View"),t()()(),e(31,"button",124),x("click",function(){b(r);let m=c();return y(m.applySelectedOffer())}),i(32," Apply Offer "),t()()()()}if(d&2){let r=c();n(9),f(r.getOfferIconBg(r.selectedOffer.type)),n(),f(r.getOfferIconColor(r.selectedOffer.type)),n(2),s(r.selectedOffer.title),n(2),s(r.selectedOffer.description),n(6),s(r.selectedOffer.validUntil),n(5),s(r.selectedOffer.code)}}var F=class d{mockDataService=_(T);router=_(D);currentUser=null;selectedOffer=null;loyaltyPoints=240;pendingOrdersCount=2;cartItemCount=3;referralCount=5;referralPoints=150;activeOffers=[{id:"1",title:"20% Off on Biryani",description:"Get 20% discount on all biryani items",type:"percentage",typeLabel:"Discount",icon:"fas fa-percentage",code:"BIRYANI20",validUntil:"Dec 31, 2024",expiresSoon:!1},{id:"2",title:"Buy 1 Get 1 Free Pizza",description:"Buy one pizza and get another free",type:"buy_one_get_one",typeLabel:"BOGO",icon:"fas fa-gift",code:"PIZZABOGO",validUntil:"Dec 25, 2024",expiresSoon:!0},{id:"3",title:"Free Dessert",description:"Get a free dessert with orders above \u20B9500",type:"free_item",typeLabel:"Free Item",icon:"fas fa-birthday-cake",code:"FREEDESSERT",validUntil:"Jan 15, 2025",expiresSoon:!1}];redeemableRewards=[{id:"1",title:"Free Coffee",description:"Redeem for a free coffee",pointsRequired:100,icon:"fas fa-coffee",iconBg:"bg-brown-100 dark:bg-brown-900/30",iconColor:"text-brown-600"},{id:"2",title:"\u20B950 Off",description:"Get \u20B950 off on your next order",pointsRequired:200,icon:"fas fa-indian-rupee-sign",iconBg:"bg-green-100 dark:bg-green-900/30",iconColor:"text-green-600"},{id:"3",title:"Free Dessert",description:"Redeem for a free dessert",pointsRequired:150,icon:"fas fa-birthday-cake",iconBg:"bg-pink-100 dark:bg-pink-900/30",iconColor:"text-pink-600"},{id:"4",title:"VIP Access",description:"Get priority seating",pointsRequired:300,icon:"fas fa-crown",iconBg:"bg-yellow-100 dark:bg-yellow-900/30",iconColor:"text-yellow-600"}];pointsHistory=[{id:"1",description:"Order #ORD-2025-1045",points:24,type:"earned",date:new Date(Date.now()-2*24*60*60*1e3),icon:"fas fa-receipt"},{id:"2",description:"Referral bonus",points:50,type:"earned",date:new Date(Date.now()-5*24*60*60*1e3),icon:"fas fa-users"},{id:"3",description:"Free coffee redeemed",points:100,type:"redeemed",date:new Date(Date.now()-7*24*60*60*1e3),icon:"fas fa-coffee"}];ngOnInit(){this.initializeData()}initializeData(){this.currentUser=this.mockDataService.getUserByRole("customer")||null}toggleTheme(){let a=document.documentElement;a.classList.toggle("dark");let r=a.classList.contains("dark")?"dark":"light";localStorage.setItem("theme",r)}applyOffer(a){this.selectedOffer=a}closeOfferDetails(){this.selectedOffer=null}applySelectedOffer(){this.selectedOffer&&(alert(`Offer "${this.selectedOffer.title}" applied! Code: ${this.selectedOffer.code}`),this.selectedOffer=null)}redeemReward(a){this.loyaltyPoints>=a.pointsRequired?(alert(`"${a.title}" redeemed successfully!`),this.loyaltyPoints-=a.pointsRequired):alert("Not enough points to redeem this reward.")}shareReferralCode(){alert("Referral code shared! Your unique code: CAFEX2024")}viewCart(){alert("Navigate to cart page")}getOfferBorderClass(a){switch(a){case"percentage":return"border-blue-300 dark:border-blue-700";case"fixed":return"border-green-300 dark:border-green-700";case"buy_one_get_one":return"border-purple-300 dark:border-purple-700";case"free_item":return"border-orange-300 dark:border-orange-700";default:return"border-gray-300 dark:border-gray-700"}}getOfferBadgeClass(a){switch(a){case"percentage":return"bg-blue-100 dark:bg-blue-900/30 text-blue-600";case"fixed":return"bg-green-100 dark:bg-green-900/30 text-green-600";case"buy_one_get_one":return"bg-purple-100 dark:bg-purple-900/30 text-purple-600";case"free_item":return"bg-orange-100 dark:bg-orange-900/30 text-orange-600";default:return"bg-gray-100 dark:bg-gray-700 text-gray-600"}}getOfferIconBg(a){switch(a){case"percentage":return"bg-blue-100 dark:bg-blue-900/30";case"fixed":return"bg-green-100 dark:bg-green-900/30";case"buy_one_get_one":return"bg-purple-100 dark:bg-purple-900/30";case"free_item":return"bg-orange-100 dark:bg-orange-900/30";default:return"bg-gray-100 dark:bg-gray-700"}}getOfferIconColor(a){switch(a){case"percentage":return"text-blue-600";case"fixed":return"text-green-600";case"buy_one_get_one":return"text-purple-600";case"free_item":return"text-orange-600";default:return"text-gray-600"}}formatDate(a){let r=new Date,o=r.getTime()-a.getTime(),m=Math.floor(o/(1e3*60*60*24));return m===0?"Today":m===1?"Yesterday":m<7?`${m} days ago`:a.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:a.getFullYear()!==r.getFullYear()?"numeric":void 0})}static \u0275fac=function(r){return new(r||d)};static \u0275cmp=w({type:d,selectors:[["app-customer-offers"]],standalone:!0,features:[O],decls:128,vars:15,consts:[[1,"sticky","top-0","z-50","bg-white/95","dark:bg-gray-900/95","backdrop-blur-md","border-b","border-gray-200","dark:border-gray-700"],[1,"px-4","py-3"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-3"],[1,"w-12","h-12","bg-gradient-to-br","from-primary-500","to-primary-700","rounded-xl","flex","items-center","justify-center","shadow-lg"],[1,"relative"],[1,"fas","fa-coffee","text-white","text-lg"],[1,"font-bold","text-gray-900","dark:text-white","text-lg"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"p-2","rounded-full","bg-gray-100","dark:bg-gray-800","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700","transition-all","duration-300",3,"click"],[1,"fas","fa-moon","dark:hidden","text-sm"],[1,"fas","fa-sun","hidden","dark:inline","text-sm"],[1,"flex","items-center","space-x-2"],[1,"text-right"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],["alt","Profile",1,"w-10","h-10","rounded-full","border-2","border-primary-500","shadow-md","hover:shadow-lg","transition-shadow","cursor-pointer",3,"src"],[1,"absolute","bottom-0","right-0","w-3","h-3","bg-green-500","border-2","border-white","dark:border-gray-900","rounded-full"],[1,"px-4","py-4","pb-20"],[1,"mb-6","animate__animated","animate__fadeInUp"],[1,"gradient-bg","rounded-2xl","p-6","text-white","relative","overflow-hidden"],[1,"absolute","top-0","right-0","w-32","h-32","bg-white/10","rounded-full","-translate-y-16","translate-x-16"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-white/10","rounded-full","translate-y-12","-translate-x-12"],[1,"relative","z-10"],[1,"text-2xl","font-bold","mb-2"],[1,"text-white/90"],[1,"mb-6","animate__animated","animate__fadeInUp","animate__delay-1s"],[1,"bg-gradient-to-r","from-purple-500","to-pink-500","rounded-2xl","p-6","text-white","relative","overflow-hidden"],[1,"absolute","top-0","right-0","w-24","h-24","bg-white/10","rounded-full","-translate-y-12","translate-x-12"],[1,"absolute","bottom-0","left-0","w-16","h-16","bg-white/10","rounded-full","translate-y-8","-translate-x-8"],[1,"text-white/90","text-sm"],[1,"text-3xl","font-bold"],[1,"text-white/90","text-xs","mt-1"],[1,"w-16","h-16","bg-white/20","rounded-full","flex","items-center","justify-center"],[1,"fas","fa-star","text-2xl"],[1,"text-xs","mt-2"],[1,"mt-4","bg-white/20","rounded-full","h-2"],[1,"bg-white","h-2","rounded-full"],[1,"mb-6","animate__animated","animate__fadeInUp","animate__delay-2s"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-lg","font-bold","text-gray-900","dark:text-white"],[1,"space-y-4"],["class","bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm border-2 border-dashed",3,"class",4,"ngFor","ngForOf"],[1,"mb-6","animate__animated","animate__fadeInUp","animate__delay-3s"],[1,"grid","grid-cols-2","gap-4"],["class","bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"mb-6","animate__animated","animate__fadeInUp","animate__delay-4s"],[1,"bg-gradient-to-r","from-green-500","to-teal-500","rounded-2xl","p-6","text-white"],[1,"text-lg","font-bold","mb-1"],[1,"text-white/90","text-sm","mb-3"],[1,"flex","items-center","space-x-2","text-sm"],[1,"fas","fa-users"],[1,"text-2xl","font-bold","mb-1"],[1,"text-xs","text-white/80"],[1,"mt-4","w-full","px-4","py-2","bg-white/20","hover:bg-white/30","rounded-xl","text-white","font-semibold","transition-colors",3,"click"],[1,"fas","fa-share","mr-2"],[1,"mb-8","animate__animated","animate__fadeInUp","animate__delay-5s"],[1,"text-primary-500","text-sm"],[1,"space-y-3"],["class","bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm",4,"ngFor","ngForOf"],[1,"fixed","bottom-0","left-0","right-0","bg-white/95","dark:bg-gray-900/95","backdrop-blur-md","border-t","border-gray-200","dark:border-gray-700","z-50"],[1,"flex","items-center","justify-around","py-2"],["routerLink","/customer/menu",1,"flex","flex-col","items-center","space-y-1","p-2","text-gray-400","hover:text-primary-500","transition-colors"],[1,"fas","fa-home","text-xl"],[1,"text-xs","font-medium"],[1,"fas","fa-utensils","text-xl"],["routerLink","/customer/orders",1,"flex","flex-col","items-center","space-y-1","p-2","text-gray-400","hover:text-primary-500","transition-colors","relative"],[1,"fas","fa-receipt","text-xl"],[1,"absolute","-top-1","-right-1","bg-red-500","text-white","text-xs","rounded-full","h-4","w-4","flex","items-center","justify-center"],["routerLink","/customer/offers",1,"flex","flex-col","items-center","space-y-1","p-2","text-primary-500"],[1,"fas","fa-gift","text-xl"],["routerLink","/customer/profile",1,"flex","flex-col","items-center","space-y-1","p-2","text-gray-400","hover:text-primary-500","transition-colors"],[1,"fas","fa-user","text-xl"],[1,"fixed","bottom-24","right-4","z-40"],[1,"w-14","h-14","bg-primary-500","text-white","rounded-full","shadow-lg","hover:bg-primary-600","transition-all","duration-300","floating-animation","relative",3,"click"],[1,"fas","fa-shopping-cart","text-xl"],["class","absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","p-4","shadow-sm","border-2","border-dashed"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"flex","items-center","space-x-2","mb-2"],[1,"px-2","py-1","rounded-full","text-xs","font-medium"],[1,"mr-1"],["class","px-2 py-1 rounded-full text-xs bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",4,"ngIf"],[1,"font-semibold","text-gray-900","dark:text-white","mb-1"],[1,"text-sm","text-gray-600","dark:text-gray-300","mb-2"],[1,"flex","items-center","space-x-4","text-xs","text-gray-500","dark:text-gray-400"],[1,"fas","fa-clock","mr-1"],[1,"fas","fa-tag","mr-1"],[1,"px-4","py-2","rounded-xl","bg-primary-500","hover:bg-primary-600","text-white","text-sm","font-semibold","transition-colors",3,"click"],[1,"px-2","py-1","rounded-full","text-xs","bg-red-100","dark:bg-red-900/30","text-red-600","dark:text-red-400"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","p-4","shadow-sm","hover:shadow-lg","transition-all","duration-300","cursor-pointer",3,"click"],[1,"text-center"],[1,"w-12","h-12","mx-auto","mb-3","rounded-full","flex","items-center","justify-center"],[1,"text-xl"],[1,"font-semibold","text-gray-900","dark:text-white","text-sm","mb-1"],[1,"text-xs","text-gray-500","dark:text-gray-400","mb-2"],[1,"flex","items-center","justify-center","space-x-1"],[1,"fas","fa-star","text-yellow-500","text-xs"],[1,"text-xs","font-semibold","text-gray-700","dark:text-gray-200"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","p-4","shadow-sm"],[1,"w-10","h-10","rounded-full","flex","items-center","justify-center"],[1,"text-sm"],[1,"font-medium","text-gray-900","dark:text-white","text-sm"],[1,"flex","items-center","space-x-1"],[1,"font-semibold"],[1,"absolute","-top-2","-right-2","bg-red-500","text-white","text-xs","rounded-full","h-5","w-5","flex","items-center","justify-center"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-2xl","max-w-md","w-full","max-h-[90vh]","overflow-y-auto"],[1,"p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"fas","fa-times"],[1,"text-center","mb-6"],[1,"w-16","h-16","mx-auto","mb-4","rounded-full","flex","items-center","justify-center"],[1,"text-2xl"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-300"],[1,"space-y-3","mb-6"],[1,"flex","items-center","justify-between","py-2","border-b","border-gray-200","dark:border-gray-700"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"font-medium"],[1,"font-mono","font-medium","bg-gray-100","dark:bg-gray-700","px-2","py-1","rounded"],[1,"flex","items-center","justify-between","py-2"],[1,"w-full","px-4","py-3","bg-primary-500","hover:bg-primary-600","text-white","rounded-xl","font-semibold","transition-colors",3,"click"]],template:function(r,o){r&1&&(e(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),l(6,"i",6),t()(),e(7,"div")(8,"h1",7),i(9,"Cafe-X POS"),t(),e(10,"p",8),i(11,"Exclusive offers & deals"),t()()(),e(12,"div",3)(13,"button",9),x("click",function(){return o.toggleTheme()}),l(14,"i",10)(15,"i",11),t(),e(16,"div",12)(17,"div",13)(18,"p",14),i(19),t(),e(20,"p",8),i(21,"Customer"),t()(),e(22,"div",5),l(23,"img",15)(24,"div",16),t()()()()()(),e(25,"main",17)(26,"div",18)(27,"div",19),l(28,"div",20)(29,"div",21),e(30,"div",22)(31,"h2",23),i(32,"\u{1F389} Special Offers!"),t(),e(33,"p",24),i(34,"Exclusive deals and loyalty rewards just for you."),t()()()(),e(35,"section",25)(36,"div",26),l(37,"div",27)(38,"div",28),e(39,"div",22)(40,"div",2)(41,"div")(42,"p",29),i(43,"Loyalty Points"),t(),e(44,"h3",30),i(45),t(),e(46,"p",31),i(47,"Earn more with every order"),t()(),e(48,"div",13)(49,"div",32),l(50,"i",33),t(),e(51,"p",34),i(52,"Next reward at 500 pts"),t()()(),e(53,"div",35),l(54,"div",36),t()()()(),e(55,"section",37)(56,"div",38)(57,"h3",39),i(58,"Active Offers"),t(),e(59,"span",8),i(60),t()(),e(61,"div",40),u(62,j,21,12,"div",41),t()(),e(63,"section",42)(64,"div",38)(65,"h3",39),i(66,"Redeem Points"),t(),e(67,"span",8),i(68),t()(),e(69,"div",43),u(70,P,12,7,"div",44),t()(),e(71,"section",45)(72,"div",46)(73,"div",2)(74,"div")(75,"h3",47),i(76,"Refer & Earn"),t(),e(77,"p",48),i(78,"Share Cafe-X with friends and earn points"),t(),e(79,"div",49),l(80,"i",50),e(81,"span"),i(82),t()()(),e(83,"div",13)(84,"div",51),i(85),t(),e(86,"div",52),i(87,"Points earned"),t()()(),e(88,"button",53),x("click",function(){return o.shareReferralCode()}),l(89,"i",54),i(90,"Share Referral Code "),t()()(),e(91,"section",55)(92,"div",38)(93,"h3",39),i(94,"Points History"),t(),e(95,"button",56),i(96,"View All"),t()(),e(97,"div",57),u(98,B,15,10,"div",58),t()()(),e(99,"nav",59)(100,"div",60)(101,"a",61),l(102,"i",62),e(103,"span",63),i(104,"Home"),t()(),e(105,"a",61),l(106,"i",64),e(107,"span",63),i(108,"Menu"),t()(),e(109,"a",65),l(110,"i",66),e(111,"span",63),i(112,"Orders"),t(),e(113,"span",67),i(114),t()(),e(115,"a",68),l(116,"i",69),e(117,"span",63),i(118,"Offers"),t()(),e(119,"a",70),l(120,"i",71),e(121,"span",63),i(122,"Profile"),t()()()(),e(123,"div",72)(124,"button",73),x("click",function(){return o.viewCart()}),l(125,"i",74),u(126,M,2,1,"span",75),t()(),u(127,V,33,8,"div",76)),r&2&&(n(19),s(o.currentUser==null?null:o.currentUser.name),n(4),p("src",o.currentUser==null?null:o.currentUser.avatar,k),n(22),s(o.loyaltyPoints),n(9),S("width",o.loyaltyPoints/500*100,"%"),n(6),g("",o.activeOffers.length," available"),n(2),p("ngForOf",o.activeOffers),n(6),g("",o.redeemableRewards.length," available"),n(2),p("ngForOf",o.redeemableRewards),n(12),g("",o.referralCount," friends joined"),n(3),s(o.referralPoints),n(13),p("ngForOf",o.pointsHistory),n(16),s(o.pendingOrdersCount),n(12),p("ngIf",o.cartItemCount>0),n(),p("ngIf",o.selectedOffer))},dependencies:[R,E,I]})};export{F as CustomerOffersComponent};
