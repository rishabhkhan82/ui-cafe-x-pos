import{b as N,c as V,f as B,j as L,k as j,m as q,q as $}from"./chunk-B5JX3SSM.js";import{l as M,m as T,n as O,q as R}from"./chunk-D6F33BNN.js";import{$a as f,Ea as s,Sa as p,Va as m,Ya as g,Za as t,_a as r,ba as A,cb as F,fb as x,gb as d,ka as C,kb as n,la as h,lb as u,mb as y,nb as S,qb as E,rb as k,sb as w,ub as I,vb as P,yb as _,zb as v}from"./chunk-QF7ULWVN.js";var D=()=>[];function U(l,a){if(l&1){let e=F();t(0,"div",41)(1,"div",42)(2,"div",43),f(3,"i",4),r(),t(4,"div")(5,"div",44),n(6),r(),t(7,"div",28),n(8),r(),t(9,"div",45)(10,"span",46),n(11),_(12,"titlecase"),r(),t(13,"span",47),n(14),r()()()(),t(15,"label",48)(16,"input",49),x("change",function(){let o=C(e).$implicit,c=d().$implicit,b=d(2);return h(b.togglePlanFeatureAccess(c,o.id))}),r(),f(17,"div",50),r()()}if(l&2){let e=a.$implicit,i=d().$implicit,o=d(2);s(3),g(o.getModuleIcon(e.module)),s(3),u(e.name),s(2),u(e.description),s(2),g(o.getCategoryColor(e.category)),s(),y(" ",v(12,9,e.category)," "),s(3),u(e.module),s(2),m("checked",o.hasFeatureAccess(i,e.id))}}function z(l,a){if(l&1&&(t(0,"div",34)(1,"div",35)(2,"div")(3,"h3",36),n(4),r(),t(5,"p",4),n(6,"Configure feature access for this subscription plan"),r()(),t(7,"div",37)(8,"div",28),n(9,"Features Enabled"),r(),t(10,"div",38),n(11),r()()(),t(12,"div",39),p(13,U,18,11,"div",40),r()()),l&2){let e=a.$implicit,i=d(2);s(4),u(e.planName),s(7),S(" ",i.getEnabledFeaturesCount(e),"/",i.getTotalFeaturesCount(e)," "),s(2),m("ngForOf",i.getFilteredFeatures())}}function G(l,a){if(l&1&&(t(0,"div",32),p(1,z,14,4,"div",33),r()),l&2){let e=d();s(),m("ngForOf",e.planAccess)}}function H(l,a){if(l&1&&(t(0,"span",61),n(1),_(2,"titlecase"),r()),l&2){let e=a.$implicit;s(),y(" ",v(2,1,e)," ")}}function J(l,a){if(l&1&&(t(0,"div",57)(1,"div",58),n(2,"Permissions:"),r(),t(3,"div",59),p(4,H,3,3,"span",60),r()()),l&2){let e=d().$implicit,i=d().$implicit;s(4),m("ngForOf",i.permissions[e.id]||P(1,D))}}function K(l,a){if(l&1){let e=F();t(0,"div",52)(1,"div",53)(2,"div",42)(3,"div",54),f(4,"i",55),r(),t(5,"div")(6,"div",44),n(7),r(),t(8,"span",46),n(9),_(10,"titlecase"),r()()(),t(11,"label",48)(12,"input",49),x("change",function(){let o=C(e).$implicit,c=d().$implicit,b=d(2);return h(b.toggleRoleFeatureAccess(c,o.id))}),r(),f(13,"div",50),r()(),p(14,J,5,2,"div",56),r()}if(l&2){let e=a.$implicit,i=d().$implicit,o=d(2);s(4),g(o.getModuleIcon(e.module)),s(3),u(e.name),s(),g(o.getCategoryColor(e.category)),s(),y(" ",v(10,8,e.category)," "),s(3),m("checked",o.hasRoleAccess(i,e.id)),s(2),m("ngIf",o.hasRoleAccess(i,e.id))}}function Q(l,a){if(l&1&&(t(0,"div",34)(1,"div",35)(2,"div")(3,"h3",36),n(4),r(),t(5,"p",4),n(6,"Configure feature permissions for this user role"),r()(),t(7,"div",37)(8,"div",28),n(9,"Features Accessible"),r(),t(10,"div",38),n(11),r()()(),t(12,"div",39),p(13,K,15,10,"div",51),r()()),l&2){let e=a.$implicit,i=d(2);s(4),u(e.roleName),s(7),S(" ",i.getEnabledRoleFeaturesCount(e),"/",i.getTotalRoleFeaturesCount(e)," "),s(2),m("ngForOf",i.getFilteredFeatures())}}function X(l,a){if(l&1&&(t(0,"div",32),p(1,Q,14,4,"div",33),r()),l&2){let e=d();s(),m("ngForOf",e.roleAccess)}}var W=class l{features=[{id:"basic_pos",name:"Basic POS System",description:"Essential point of sale functionality with order processing",category:"core",module:"POS",isEnabled:!0,requiresPlan:["starter","professional","enterprise"]},{id:"menu_management",name:"Menu Management",description:"Create and manage digital menus with categories and pricing",category:"core",module:"Menu",isEnabled:!0,requiresPlan:["starter","professional","enterprise"]},{id:"inventory_management",name:"Inventory Management",description:"Track stock levels, suppliers, and automatic reorder alerts",category:"advanced",module:"Inventory",isEnabled:!0,requiresPlan:["professional","enterprise"],restrictions:{maxUsage:1e3}},{id:"staff_management",name:"Staff Management",description:"Employee scheduling, time tracking, and performance analytics",category:"advanced",module:"Staff",isEnabled:!0,requiresPlan:["professional","enterprise"],restrictions:{userLimit:25}},{id:"customer_loyalty",name:"Customer Loyalty Program",description:"Loyalty points, rewards, and customer retention tools",category:"advanced",module:"CRM",isEnabled:!0,requiresPlan:["professional","enterprise"]},{id:"advanced_analytics",name:"Advanced Analytics",description:"AI-powered insights, predictive analytics, and custom reports",category:"premium",module:"Analytics",isEnabled:!0,requiresPlan:["enterprise"],dependencies:["basic_reports"]},{id:"api_access",name:"API Access",description:"Full REST API access for custom integrations",category:"premium",module:"Integration",isEnabled:!0,requiresPlan:["enterprise"]},{id:"white_label",name:"White Label Solution",description:"Custom branding, domain, and white-label options",category:"premium",module:"Branding",isEnabled:!0,requiresPlan:["enterprise"]}];planAccess=[{planId:"starter",planName:"Starter Plan",features:{basic_pos:!0,menu_management:!0,inventory_management:!1,staff_management:!1,customer_loyalty:!1,advanced_analytics:!1,api_access:!1,white_label:!1},limits:{}},{planId:"professional",planName:"Professional Plan",features:{basic_pos:!0,menu_management:!0,inventory_management:!0,staff_management:!0,customer_loyalty:!0,advanced_analytics:!1,api_access:!1,white_label:!1},limits:{inventory_management:{maxUsage:1e3},staff_management:{userLimit:25}}},{planId:"enterprise",planName:"Enterprise Plan",features:{basic_pos:!0,menu_management:!0,inventory_management:!0,staff_management:!0,customer_loyalty:!0,advanced_analytics:!0,api_access:!0,white_label:!0},limits:{}}];roleAccess=[{roleId:"platform_owner",roleName:"Platform Owner",features:{basic_pos:!0,menu_management:!0,inventory_management:!0,staff_management:!0,customer_loyalty:!0,advanced_analytics:!0,api_access:!0,white_label:!0},permissions:{basic_pos:["create","read","update","delete"],menu_management:["create","read","update","delete"],inventory_management:["create","read","update","delete"],staff_management:["create","read","update","delete"],customer_loyalty:["create","read","update","delete"],advanced_analytics:["read"],api_access:["create","read","update","delete"],white_label:["create","read","update","delete"]}},{roleId:"restaurant_owner",roleName:"Restaurant Owner",features:{basic_pos:!0,menu_management:!0,inventory_management:!0,staff_management:!0,customer_loyalty:!0,advanced_analytics:!1,api_access:!1,white_label:!1},permissions:{basic_pos:["create","read","update","delete"],menu_management:["create","read","update","delete"],inventory_management:["create","read","update","delete"],staff_management:["create","read","update","delete"],customer_loyalty:["create","read","update","delete"]}}];selectedView="plans";selectedCategory="all";searchTerm="";constructor(){}ngOnInit(){}getFilteredFeatures(){return this.features.filter(a=>{let e=this.selectedCategory==="all"||a.category===this.selectedCategory,i=a.name.toLowerCase().includes(this.searchTerm.toLowerCase())||a.description.toLowerCase().includes(this.searchTerm.toLowerCase());return e&&i})}getFeaturesByCategory(a){return this.features.filter(e=>e.category===a)}hasFeatureAccess(a,e){return a.features[e]||!1}hasRoleAccess(a,e){return a.features[e]||!1}togglePlanFeatureAccess(a,e){a.features[e]=!a.features[e],console.log("Updated plan feature access:",a.planId,e,a.features[e])}toggleRoleFeatureAccess(a,e){a.features[e]=!a.features[e],console.log("Updated role feature access:",a.roleId,e,a.features[e])}getCategoryColor(a){switch(a){case"core":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"advanced":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"premium":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}}getModuleIcon(a){return{POS:"fas fa-cash-register",Menu:"fas fa-utensils",Inventory:"fas fa-boxes",Staff:"fas fa-users",CRM:"fas fa-user-friends",Analytics:"fas fa-chart-bar",Integration:"fas fa-plug",Branding:"fas fa-palette"}[a]||"fas fa-cog"}saveChanges(){console.log("Saving feature access control changes...")}resetToDefaults(){console.log("Resetting to default feature access...")}getEnabledFeaturesCount(a){return Object.values(a.features).filter(e=>e).length}getTotalFeaturesCount(a){return Object.keys(a.features).length}getEnabledRoleFeaturesCount(a){return Object.values(a.features).filter(e=>e).length}getTotalRoleFeaturesCount(a){return Object.keys(a.features).length}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=A({type:l,selectors:[["app-feature-access-control"]],standalone:!0,features:[I],decls:70,vars:11,consts:[[1,"p-6"],[1,"mb-6"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"text-gray-600","dark:text-gray-300"],[1,"flex","space-x-3"],[1,"px-4","py-2","bg-green-600","text-white","rounded-lg","hover:bg-green-700","transition-colors","flex","items-center","space-x-2",3,"click"],[1,"fas","fa-save"],[1,"px-4","py-2","bg-gray-600","text-white","rounded-lg","hover:bg-gray-700","transition-colors","flex","items-center","space-x-2",3,"click"],[1,"fas","fa-undo"],[1,"pos-card","rounded-2xl","p-6","mb-6"],[1,"flex","flex-wrap","gap-4","items-center"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"flex","space-x-2"],[1,"px-4","py-2","rounded-lg","transition-colors",3,"click"],[1,"px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-transparent","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["value","all"],["value","core"],["value","advanced"],["value","premium"],[1,"flex-1","min-w-64"],["type","text","placeholder","Search features...",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-transparent","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["class","space-y-6",4,"ngIf"],[1,"pos-card","rounded-2xl","p-6","mt-6"],[1,"text-lg","font-bold","text-gray-900","dark:text-white","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"text-center"],[1,"text-3xl","font-bold","text-blue-600","dark:text-blue-400","mb-2"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-400","mt-1"],[1,"text-3xl","font-bold","text-green-600","dark:text-green-400","mb-2"],[1,"text-3xl","font-bold","text-purple-600","dark:text-purple-400","mb-2"],[1,"space-y-6"],["class","pos-card rounded-2xl p-6",4,"ngFor","ngForOf"],[1,"pos-card","rounded-2xl","p-6"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"text-right"],[1,"text-2xl","font-bold","text-primary-600","dark:text-primary-400"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-4","border","border-gray-200","dark:border-gray-700","rounded-lg"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","rounded-lg","bg-gray-100","dark:bg-gray-700","flex","items-center","justify-center"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"flex","items-center","space-x-2","mt-1"],[1,"px-2","py-1","text-xs","rounded-full"],[1,"text-xs","text-gray-400"],[1,"relative","inline-flex","items-center","cursor-pointer"],["type","checkbox",1,"sr-only","peer",3,"change","checked"],[1,"w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-primary-300","dark:peer-focus:ring-primary-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:left-[2px]","after:bg-white","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-primary-600"],["class","p-4 border border-gray-200 dark:border-gray-700 rounded-lg",4,"ngFor","ngForOf"],[1,"p-4","border","border-gray-200","dark:border-gray-700","rounded-lg"],[1,"flex","items-start","justify-between","mb-3"],[1,"w-8","h-8","rounded-lg","bg-gray-100","dark:bg-gray-700","flex","items-center","justify-center"],[1,"text-gray-600","dark:text-gray-300","text-sm"],["class","space-y-2",4,"ngIf"],[1,"space-y-2"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"flex","flex-wrap","gap-1"],["class","px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400 text-xs rounded-full",4,"ngFor","ngForOf"],[1,"px-2","py-1","bg-blue-100","dark:bg-blue-900/30","text-blue-800","dark:text-blue-400","text-xs","rounded-full"]],template:function(e,i){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),n(5,"Feature Access Control"),r(),t(6,"p",4),n(7,"Manage feature availability across plans and user roles"),r()(),t(8,"div",5)(9,"button",6),x("click",function(){return i.saveChanges()}),f(10,"i",7),t(11,"span"),n(12,"Save Changes"),r()(),t(13,"button",8),x("click",function(){return i.resetToDefaults()}),f(14,"i",9),t(15,"span"),n(16,"Reset"),r()()()()(),t(17,"div",10)(18,"div",11)(19,"div")(20,"label",12),n(21,"View"),r(),t(22,"div",13)(23,"button",14),x("click",function(){return i.selectedView="plans"}),n(24," By Plans "),r(),t(25,"button",14),x("click",function(){return i.selectedView="roles"}),n(26," By Roles "),r()()(),t(27,"div")(28,"label",12),n(29,"Category"),r(),t(30,"select",15),w("ngModelChange",function(c){return k(i.selectedCategory,c)||(i.selectedCategory=c),c}),t(31,"option",16),n(32,"All Categories"),r(),t(33,"option",17),n(34,"Core Features"),r(),t(35,"option",18),n(36,"Advanced Features"),r(),t(37,"option",19),n(38,"Premium Features"),r()()(),t(39,"div",20)(40,"label",12),n(41,"Search Features"),r(),t(42,"input",21),w("ngModelChange",function(c){return k(i.searchTerm,c)||(i.searchTerm=c),c}),r()()()(),p(43,G,2,1,"div",22)(44,X,2,1,"div",22),t(45,"div",23)(46,"h3",24),n(47,"Feature Overview"),r(),t(48,"div",25)(49,"div",26)(50,"div",27),n(51),r(),t(52,"div",28),n(53,"Core Features"),r(),t(54,"div",29),n(55,"Available to all plans"),r()(),t(56,"div",26)(57,"div",30),n(58),r(),t(59,"div",28),n(60,"Advanced Features"),r(),t(61,"div",29),n(62,"Professional+ plans"),r()(),t(63,"div",26)(64,"div",31),n(65),r(),t(66,"div",28),n(67,"Premium Features"),r(),t(68,"div",29),n(69,"Enterprise only"),r()()()()()),e&2&&(s(23),g(i.selectedView==="plans"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300"),s(2),g(i.selectedView==="roles"?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300"),s(5),E("ngModel",i.selectedCategory),s(12),E("ngModel",i.searchTerm),s(),m("ngIf",i.selectedView==="plans"),s(),m("ngIf",i.selectedView==="roles"),s(7),u(i.getFeaturesByCategory("core").length),s(7),u(i.getFeaturesByCategory("advanced").length),s(7),u(i.getFeaturesByCategory("premium").length))},dependencies:[R,M,T,O,$,j,q,N,L,V,B]})};export{W as FeatureAccessControlComponent};
