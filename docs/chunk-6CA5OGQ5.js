import{b as W,c as O,f as V,h as A,j,k as L,m as B,o as q,q as J}from"./chunk-B5JX3SSM.js";import{a as H}from"./chunk-7C3C72CK.js";import{l as P,m as R,n as D,q as F}from"./chunk-D6F33BNN.js";import{$a as s,Ea as o,Fa as E,Sa as h,Va as g,Ya as _,Za as e,_a as t,ba as M,cb as k,fb as u,gb as p,ka as y,kb as r,la as v,lb as c,mb as S,nb as C,ob as I,qb as f,rb as b,sb as x,ub as N,yb as w,zb as T}from"./chunk-QF7ULWVN.js";function U(m,a){if(m&1&&(e(0,"option",92),r(1),t()),m&2){let n=a.$implicit;g("value",n),o(),c(n)}}function G(m,a){if(m&1&&(e(0,"option",92),r(1),w(2,"titlecase"),t()),m&2){let n=a.$implicit;g("value",n),o(),c(T(2,2,n))}}function K(m,a){if(m&1&&(e(0,"option",92),r(1),t()),m&2){let n=a.$implicit;g("value",n),o(),c(n)}}function Y(m,a){if(m&1){let n=k();e(0,"button",117),u("click",function(){y(n);let d=p().$implicit,l=p();return v(l.processRefund(d))}),s(1,"i",118),t()}}function Z(m,a){if(m&1){let n=k();e(0,"tr",96)(1,"td",97)(2,"div",98)(3,"div",99)(4,"div",100),s(5,"i",101),t()(),e(6,"div",102)(7,"div",103),r(8),t(),e(9,"div",104),r(10),t(),e(11,"div",105),r(12),t()()()(),e(13,"td",97)(14,"div",103),r(15),t(),e(16,"div",104),r(17),t()(),e(18,"td",97)(19,"div",98),s(20,"i",106),e(21,"span",107),r(22),t()()(),e(23,"td",97)(24,"div",108),r(25),t(),e(26,"div",109),r(27),t()(),e(28,"td",97)(29,"span",110),r(30),w(31,"titlecase"),t()(),e(32,"td",97)(33,"div",111)(34,"button",112),u("click",function(){let d=y(n).$implicit,l=p();return v(l.viewTransaction(d))}),s(35,"i",113),t(),e(36,"button",114),u("click",function(){let d=y(n).$implicit,l=p();return v(l.reprintReceipt(d))}),s(37,"i",115),t(),h(38,Y,2,0,"button",116),t()()()}if(m&2){let n=a.$implicit,i=p();o(8),c(n.orderId),o(2),c(i.formatDate(n.timestamp)),o(2),c(n.cashierName),o(3),c(n.customerName),o(2),c(n.tableNumber),o(3),_(i.getPaymentMethodIcon(n.paymentMethod)),o(2),c(n.paymentMethod),o(3),c(i.formatCurrency(n.totalAmount)),o(2),S("",n.items.length," items"),o(2),_(i.getStatusColor(n.status)),o(),S(" ",T(31,14,n.status)," "),o(8),g("ngIf",n.status==="completed")}}function $(m,a){if(m&1&&(e(0,"div",146)(1,"div")(2,"div",147),r(3),t()(),e(4,"div",148)(5,"div",149),r(6),t(),e(7,"div",109),r(8),t()()()),m&2){let n=a.$implicit,i=p(2);o(3),C("",n.quantity,"x ",n.name,""),o(3),c(i.formatCurrency(n.price*n.quantity)),o(2),S("",i.formatCurrency(n.price)," each")}}function ee(m,a){if(m&1&&(e(0,"div",155)(1,"div",156)(2,"span",157),r(3),t(),e(4,"span",104),r(5),t()(),e(6,"div",158)(7,"strong"),r(8,"Amount:"),t(),r(9),e(10,"strong"),r(11,"Reason:"),t(),r(12),t()()),m&2){let n=a.$implicit,i=p(3);o(2),_(i.getModificationTypeColor(n.type)),o(),S(" ",n.type," "),o(2),c(i.formatDate(n.timestamp)),o(4),S(" ",i.formatCurrency(n.amount)," \u2022 "),o(3),S(" ",n.reason," ")}}function te(m,a){if(m&1&&(e(0,"div",150)(1,"h4",151),s(2,"i",152),r(3,"Transaction Modifications "),t(),e(4,"div",153),h(5,ee,13,6,"div",154),t()()),m&2){let n=p(2);o(5),g("ngForOf",n.selectedTransaction.modifications)}}function re(m,a){if(m&1){let n=k();e(0,"button",54),u("click",function(){y(n);let d=p(2);return v(d.processRefund(d.selectedTransaction))}),s(1,"i",57),r(2,"Process Refund "),t()}}function ie(m,a){if(m&1){let n=k();e(0,"div",119)(1,"div",120)(2,"div",121)(3,"div",122)(4,"div",123),s(5,"i",124),t(),e(6,"div")(7,"h3",125),r(8,"Transaction Details"),t(),e(9,"p",14),r(10),t()()(),e(11,"button",126),u("click",function(){y(n);let d=p();return v(d.closeTransactionModal())}),s(12,"i",127),t()(),e(13,"div",128)(14,"div",129)(15,"div",130)(16,"h4",131),r(17,"Transaction Information"),t(),e(18,"div",132)(19,"div",133)(20,"span",134),r(21,"Order ID:"),t(),e(22,"span",135),r(23),t()(),e(24,"div",133)(25,"span",134),r(26,"Date & Time:"),t(),e(27,"span",135),r(28),t()(),e(29,"div",133)(30,"span",134),r(31,"Customer:"),t(),e(32,"span",135),r(33),t()(),e(34,"div",133)(35,"span",134),r(36,"Table:"),t(),e(37,"span",135),r(38),t()(),e(39,"div",133)(40,"span",134),r(41,"Cashier:"),t(),e(42,"span",135),r(43),t()(),e(44,"div",133)(45,"span",134),r(46,"Payment Method:"),t(),e(47,"span",135),r(48),t()(),e(49,"div",133)(50,"span",134),r(51,"Status:"),t(),e(52,"span",110),r(53),w(54,"titlecase"),t()()()(),e(55,"div",130)(56,"h4",131),r(57,"Order Items"),t(),e(58,"div",136),h(59,$,9,4,"div",137),t(),e(60,"div",138)(61,"div",139)(62,"span"),r(63,"Total:"),t(),e(64,"span"),r(65),t()()()()(),h(66,te,6,1,"div",140),t(),e(67,"div",141)(68,"button",142),u("click",function(){y(n);let d=p();return v(d.reprintReceipt(d.selectedTransaction))}),s(69,"i",143),r(70,"Reprint Receipt "),t(),h(71,re,3,0,"button",144),e(72,"button",145),u("click",function(){y(n);let d=p();return v(d.closeTransactionModal())}),r(73," Close "),t()()()()}if(m&2){let n=p();o(10),c(n.selectedTransaction.orderId),o(13),c(n.selectedTransaction.orderId),o(5),c(n.formatDate(n.selectedTransaction.timestamp)),o(5),c(n.selectedTransaction.customerName),o(5),c(n.selectedTransaction.tableNumber),o(5),c(n.selectedTransaction.cashierName),o(5),c(n.selectedTransaction.paymentMethod),o(4),_(n.getStatusColor(n.selectedTransaction.status)),o(),S(" ",T(54,14,n.selectedTransaction.status)," "),o(6),g("ngForOf",n.selectedTransaction.items),o(6),c(n.formatCurrency(n.selectedTransaction.totalAmount)),o(),g("ngIf",n.selectedTransaction.modifications&&n.selectedTransaction.modifications.length>0),o(5),g("ngIf",n.selectedTransaction.status==="completed")}}var Q=class m{constructor(a){this.mockDataService=a}searchResults=[];filteredResults=[];selectedTransaction=null;showTransactionModal=!1;filters={orderId:"",customerName:"",tableNumber:"",paymentMethod:"",status:"",dateFrom:"",dateTo:"",amountMin:0,amountMax:0,cashierName:""};quickFilters={today:!1,yesterday:!1,thisWeek:!1,lastHour:!1,highValue:!1,refunded:!1};currentPage=1;itemsPerPage=10;totalItems=0;paymentMethods=["Cash","Card","UPI","Wallet"];statuses=["completed","refunded","voided","pending"];cashiers=["John Doe","Jane Smith","Mike Johnson"];ngOnInit(){this.loadSampleTransactions()}loadSampleTransactions(){let a=new Date;this.searchResults=[{orderId:"ORD-20241201-001",customerName:"Amit Patil",tableNumber:"T-07",totalAmount:483,paymentMethod:"Card",status:"completed",timestamp:new Date(a.getTime()-2*60*60*1e3),cashierName:"John Doe",items:[{name:"Hyderabadi Biryani",quantity:2,price:280},{name:"Margherita Pizza",quantity:1,price:250}]},{orderId:"ORD-20241201-002",customerName:"Sarah Johnson",tableNumber:"T-12",totalAmount:250,paymentMethod:"Cash",status:"completed",timestamp:new Date(a.getTime()-4*60*60*1e3),cashierName:"Jane Smith",items:[{name:"Margherita Pizza",quantity:2,price:250}]},{orderId:"ORD-20241201-003",customerName:"Raj Kumar",tableNumber:"T-05",totalAmount:320,paymentMethod:"UPI",status:"refunded",timestamp:new Date(a.getTime()-6*60*60*1e3),cashierName:"John Doe",items:[{name:"Butter Chicken",quantity:1,price:320}],modifications:[{type:"refund",amount:320,reason:"Customer complaint - cold food",timestamp:new Date(a.getTime()-5*60*60*1e3)}]},{orderId:"ORD-20241130-045",customerName:"Priya Sharma",tableNumber:"T-08",totalAmount:1250,paymentMethod:"Card",status:"completed",timestamp:new Date(a.getTime()-24*60*60*1e3),cashierName:"Mike Johnson",items:[{name:"Paneer Butter Masala",quantity:2,price:350},{name:"Garlic Naan",quantity:4,price:80},{name:"Ras Malai",quantity:2,price:120}]},{orderId:"ORD-20241201-004",customerName:"David Chen",tableNumber:"T-15",totalAmount:180,paymentMethod:"Wallet",status:"voided",timestamp:new Date(a.getTime()-30*60*1e3),cashierName:"Jane Smith",items:[{name:"Coffee",quantity:2,price:90}],modifications:[{type:"void",amount:180,reason:"Wrong order entry",timestamp:new Date(a.getTime()-25*60*1e3)}]}],this.filteredResults=[...this.searchResults],this.totalItems=this.filteredResults.length}applyFilters(){this.filteredResults=this.searchResults.filter(a=>{if(this.filters.orderId&&!a.orderId.toLowerCase().includes(this.filters.orderId.toLowerCase())||this.filters.customerName&&!a.customerName.toLowerCase().includes(this.filters.customerName.toLowerCase())||this.filters.tableNumber&&!a.tableNumber.toLowerCase().includes(this.filters.tableNumber.toLowerCase())||this.filters.cashierName&&!a.cashierName.toLowerCase().includes(this.filters.cashierName.toLowerCase())||this.filters.paymentMethod&&a.paymentMethod!==this.filters.paymentMethod||this.filters.status&&a.status!==this.filters.status||this.filters.amountMin>0&&a.totalAmount<this.filters.amountMin||this.filters.amountMax>0&&a.totalAmount>this.filters.amountMax)return!1;if(this.filters.dateFrom){let n=new Date(this.filters.dateFrom);if(a.timestamp<n)return!1}if(this.filters.dateTo){let n=new Date(this.filters.dateTo);if(n.setHours(23,59,59,999),a.timestamp>n)return!1}return!0}),this.totalItems=this.filteredResults.length,this.currentPage=1}applyQuickFilter(a){let n=new Date;switch(this.resetFilters(),a){case"today":this.filters.dateFrom=n.toISOString().split("T")[0],this.filters.dateTo=n.toISOString().split("T")[0];break;case"yesterday":let d=new Date(n.getTime()-24*60*60*1e3).toISOString().split("T")[0];this.filters.dateFrom=d,this.filters.dateTo=d;break;case"thisWeek":let l=new Date(n.getTime()-n.getDay()*24*60*60*1e3);this.filters.dateFrom=l.toISOString().split("T")[0],this.filters.dateTo=n.toISOString().split("T")[0];break;case"lastHour":let z=new Date(n.getTime()-60*60*1e3);this.filteredResults=this.searchResults.filter(X=>X.timestamp>=z),this.totalItems=this.filteredResults.length;return;case"highValue":this.filters.amountMin=500;break;case"refunded":this.filters.status="refunded";break}this.applyFilters()}resetFilters(){this.filters={orderId:"",customerName:"",tableNumber:"",paymentMethod:"",status:"",dateFrom:"",dateTo:"",amountMin:0,amountMax:0,cashierName:""},this.filteredResults=[...this.searchResults],this.totalItems=this.filteredResults.length,this.currentPage=1}viewTransaction(a){this.selectedTransaction=a,this.showTransactionModal=!0}closeTransactionModal(){this.showTransactionModal=!1,this.selectedTransaction=null}processRefund(a){confirm(`Process refund for Order ${a.orderId}?`)&&(alert("Refund processed successfully!"),a.status="refunded",a.modifications||(a.modifications=[]),a.modifications.push({type:"refund",amount:a.totalAmount,reason:"Customer request",timestamp:new Date}))}reprintReceipt(a){alert(`Reprinting receipt for Order ${a.orderId}...`)}exportResults(){alert("Transaction data exported successfully!")}get paginatedResults(){let a=(this.currentPage-1)*this.itemsPerPage;return this.filteredResults.slice(a,a+this.itemsPerPage)}get totalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}goToPage(a){a>=1&&a<=this.totalPages&&(this.currentPage=a)}get completedCount(){return this.searchResults.filter(a=>a.status==="completed").length}get refundedCount(){return this.searchResults.filter(a=>a.status==="refunded").length}get voidedCount(){return this.searchResults.filter(a=>a.status==="voided").length}min(a,n){return Math.min(a,n)}formatCurrency(a){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(a)}formatDate(a){return new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(a)}getStatusColor(a){switch(a){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"refunded":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"voided":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"pending":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}}getPaymentMethodIcon(a){switch(a.toLowerCase()){case"cash":return"fas fa-money-bill-wave";case"card":return"fas fa-credit-card";case"upi":return"fas fa-mobile-alt";case"wallet":return"fas fa-wallet";default:return"fas fa-money-check"}}getModificationTypeColor(a){switch(a){case"void":return"text-yellow-600";case"discount":return"text-blue-600";case"refund":return"text-red-600";default:return"text-gray-600"}}static \u0275fac=function(n){return new(n||m)(E(H))};static \u0275cmp=M({type:m,selectors:[["app-transaction-search"]],standalone:!0,features:[N],decls:203,vars:30,consts:[[1,"p-6"],[1,"mb-6"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"text-gray-600","dark:text-gray-300"],[1,"px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","rounded-lg","transition-colors","flex","items-center",3,"click"],[1,"fas","fa-download","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","dark:from-blue-900/20","dark:to-blue-800/20","rounded-2xl","p-6","border","border-blue-200","dark:border-blue-800"],[1,"flex","items-center","justify-between","mb-4"],[1,"w-12","h-12","rounded-xl","bg-blue-500","flex","items-center","justify-center"],[1,"fas","fa-search","text-white"],[1,"text-blue-600","dark:text-blue-400","text-sm","font-medium"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white","mb-1"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"bg-gradient-to-br","from-green-50","to-green-100","dark:from-green-900/20","dark:to-green-800/20","rounded-2xl","p-6","border","border-green-200","dark:border-green-800"],[1,"w-12","h-12","rounded-xl","bg-green-500","flex","items-center","justify-center"],[1,"fas","fa-check-circle","text-white"],[1,"text-green-600","dark:text-green-400","text-sm","font-medium"],[1,"bg-gradient-to-br","from-red-50","to-red-100","dark:from-red-900/20","dark:to-red-800/20","rounded-2xl","p-6","border","border-red-200","dark:border-red-800"],[1,"w-12","h-12","rounded-xl","bg-red-500","flex","items-center","justify-center"],[1,"fas","fa-undo","text-white"],[1,"text-red-600","dark:text-red-400","text-sm","font-medium"],[1,"bg-gradient-to-br","from-yellow-50","to-yellow-100","dark:from-yellow-900/20","dark:to-yellow-800/20","rounded-2xl","p-6","border","border-yellow-200","dark:border-yellow-800"],[1,"w-12","h-12","rounded-xl","bg-yellow-500","flex","items-center","justify-center"],[1,"fas","fa-ban","text-white"],[1,"text-yellow-600","dark:text-yellow-400","text-sm","font-medium"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-lg","border","border-gray-200","dark:border-gray-700","p-6","mb-8"],[1,"text-lg","font-bold","text-gray-900","dark:text-white","mb-4","flex","items-center"],[1,"fas","fa-filter","mr-3","text-red-500"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-6","gap-3"],[1,"p-3","bg-blue-50","dark:bg-blue-900/20","hover:bg-blue-100","dark:hover:bg-blue-800/30","rounded-xl","border","border-blue-200","dark:border-blue-800","transition-colors",3,"click"],[1,"text-center"],[1,"fas","fa-calendar-day","text-blue-600","mb-1"],[1,"text-sm","font-medium","text-blue-800","dark:text-blue-400"],[1,"p-3","bg-green-50","dark:bg-green-900/20","hover:bg-green-100","dark:hover:bg-green-800/30","rounded-xl","border","border-green-200","dark:border-green-800","transition-colors",3,"click"],[1,"fas","fa-calendar-alt","text-green-600","mb-1"],[1,"text-sm","font-medium","text-green-800","dark:text-green-400"],[1,"p-3","bg-purple-50","dark:bg-purple-900/20","hover:bg-purple-100","dark:hover:bg-purple-800/30","rounded-xl","border","border-purple-200","dark:border-purple-800","transition-colors",3,"click"],[1,"fas","fa-calendar-week","text-purple-600","mb-1"],[1,"text-sm","font-medium","text-purple-800","dark:text-purple-400"],[1,"p-3","bg-orange-50","dark:bg-orange-900/20","hover:bg-orange-100","dark:hover:bg-orange-800/30","rounded-xl","border","border-orange-200","dark:border-orange-800","transition-colors",3,"click"],[1,"fas","fa-clock","text-orange-600","mb-1"],[1,"text-sm","font-medium","text-orange-800","dark:text-orange-400"],[1,"p-3","bg-red-50","dark:bg-red-900/20","hover:bg-red-100","dark:hover:bg-red-800/30","rounded-xl","border","border-red-200","dark:border-red-800","transition-colors",3,"click"],[1,"fas","fa-star","text-red-600","mb-1"],[1,"text-sm","font-medium","text-red-800","dark:text-red-400"],[1,"p-3","bg-gray-50","dark:bg-gray-700/50","hover:bg-gray-100","dark:hover:bg-gray-600","rounded-xl","border","border-gray-200","dark:border-gray-600","transition-colors",3,"click"],[1,"fas","fa-undo","text-gray-600","mb-1"],[1,"text-sm","font-medium","text-gray-800","dark:text-gray-400"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-lg","font-bold","text-gray-900","dark:text-white","flex","items-center"],[1,"fas","fa-sliders-h","mr-3","text-red-500"],[1,"flex","space-x-3"],[1,"px-4","py-2","bg-red-500","hover:bg-red-600","text-white","rounded-lg","transition-colors",3,"click"],[1,"fas","fa-search","mr-2"],[1,"px-4","py-2","bg-gray-500","hover:bg-gray-600","text-white","rounded-lg","transition-colors",3,"click"],[1,"fas","fa-undo","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],[1,"block","text-sm","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],[1,"fas","fa-hashtag","mr-2","text-red-500"],["type","text","placeholder","ORD-2024-XXXX",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-red-500","focus:border-transparent","dark:bg-gray-700","dark:text-white","transition-all","duration-200",3,"ngModelChange","ngModel"],[1,"fas","fa-user","mr-2","text-blue-500"],["type","text","placeholder","Enter customer name",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-red-500","focus:border-transparent","dark:bg-gray-700","dark:text-white","transition-all","duration-200",3,"ngModelChange","ngModel"],[1,"fas","fa-utensils","mr-2","text-green-500"],["type","text","placeholder","T-XX",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-red-500","focus:border-transparent","dark:bg-gray-700","dark:text-white","transition-all","duration-200",3,"ngModelChange","ngModel"],[1,"fas","fa-credit-card","mr-2","text-purple-500"],[1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-red-500","focus:border-transparent","dark:bg-gray-700","dark:text-white","transition-all","duration-200",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"fas","fa-info-circle","mr-2","text-indigo-500"],[1,"fas","fa-user-tie","mr-2","text-orange-500"],[1,"fas","fa-calendar","mr-2","text-teal-500"],["type","date",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-red-500","focus:border-transparent","dark:bg-gray-700","dark:text-white","transition-all","duration-200",3,"ngModelChange","ngModel"],[1,"fas","fa-calendar-check","mr-2","text-cyan-500"],[1,"fas","fa-indian-rupee-sign","mr-2","text-green-500"],["type","number","min","0","placeholder","0",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-red-500","focus:border-transparent","dark:bg-gray-700","dark:text-white","transition-all","duration-200",3,"ngModelChange","ngModel"],[1,"fas","fa-indian-rupee-sign","mr-2","text-red-500"],["type","number","min","0","placeholder","No limit",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-red-500","focus:border-transparent","dark:bg-gray-700","dark:text-white","transition-all","duration-200",3,"ngModelChange","ngModel"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-lg","border","border-gray-200","dark:border-gray-700","overflow-hidden"],[1,"p-6","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","justify-between"],[1,"fas","fa-list","mr-3","text-red-500"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50","dark:bg-gray-700/50"],[1,"px-6","py-4","text-left","text-xs","font-semibold","text-gray-600","dark:text-gray-300","uppercase","tracking-wider"],[1,"divide-y","divide-gray-200","dark:divide-gray-700"],["class","hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",4,"ngFor","ngForOf"],[1,"px-6","py-4","border-t","border-gray-200","dark:border-gray-700","bg-gray-50","dark:bg-gray-700/50"],[1,"text-sm","text-gray-700","dark:text-gray-300"],[1,"border","border-gray-300","dark:border-gray-600","rounded","px-2","py-1","text-sm","dark:bg-gray-700","dark:text-white",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"flex","items-center","space-x-2"],[1,"px-3","py-1","border","border-gray-300","dark:border-gray-600","rounded","text-sm","disabled:opacity-50","disabled:cursor-not-allowed","hover:bg-gray-100","dark:hover:bg-gray-600","dark:bg-gray-700","dark:text-white",3,"click","disabled"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"hover:bg-gray-50","dark:hover:bg-gray-700/30","transition-colors"],[1,"px-6","py-4"],[1,"flex","items-center"],[1,"flex-shrink-0","w-10","h-10"],[1,"w-10","h-10","rounded-lg","bg-red-100","dark:bg-red-900/30","flex","items-center","justify-center"],[1,"fas","fa-receipt","text-red-600"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-400","dark:text-gray-500"],[1,"mr-2","text-gray-600","dark:text-gray-400"],[1,"text-sm","text-gray-900","dark:text-white"],[1,"text-sm","font-semibold","text-gray-900","dark:text-white"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"px-2","py-1","text-xs","rounded-full","font-medium"],[1,"flex","space-x-2"],["title","View Details",1,"p-1","text-blue-600","hover:text-blue-800","dark:text-blue-400","dark:hover:text-blue-300",3,"click"],[1,"fas","fa-eye"],["title","Reprint Receipt",1,"p-1","text-green-600","hover:text-green-800","dark:text-green-400","dark:hover:text-green-300",3,"click"],[1,"fas","fa-print"],["class","p-1 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300","title","Process Refund",3,"click",4,"ngIf"],["title","Process Refund",1,"p-1","text-red-600","hover:text-red-800","dark:text-red-400","dark:hover:text-red-300",3,"click"],[1,"fas","fa-undo"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-2xl","w-full","max-w-4xl","max-h-[90vh]","overflow-hidden","flex","flex-col"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200","dark:border-gray-700","flex-shrink-0"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-gradient-to-br","from-red-500","to-red-600","rounded-xl","flex","items-center","justify-center"],[1,"fas","fa-receipt","text-white"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"p-2","hover:bg-gray-100","dark:hover:bg-gray-700","rounded-lg","transition-colors",3,"click"],[1,"fas","fa-times","text-gray-500","dark:text-gray-400"],[1,"flex-1","overflow-y-auto","p-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],[1,"bg-gray-50","dark:bg-gray-700/50","rounded-xl","p-4"],[1,"font-bold","text-gray-900","dark:text-white","mb-3"],[1,"space-y-2","text-sm"],[1,"flex","justify-between"],[1,"text-gray-600","dark:text-gray-400"],[1,"font-medium"],[1,"space-y-2","max-h-48","overflow-y-auto"],["class","flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-600 last:border-b-0",4,"ngFor","ngForOf"],[1,"mt-4","pt-3","border-t","border-gray-200","dark:border-gray-600"],[1,"flex","justify-between","font-bold","text-lg"],["class","bg-red-50 dark:bg-red-900/20 rounded-xl p-4 border border-red-200 dark:border-red-800",4,"ngIf"],[1,"flex","justify-end","space-x-3","p-6","border-t","border-gray-200","dark:border-gray-700","flex-shrink-0"],[1,"px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","rounded-lg","transition-colors",3,"click"],[1,"fas","fa-print","mr-2"],["class","px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",3,"click",4,"ngIf"],[1,"px-4","py-2","bg-gray-100","dark:bg-gray-700","hover:bg-gray-200","dark:hover:bg-gray-600","text-gray-700","dark:text-gray-300","rounded-lg","transition-colors",3,"click"],[1,"flex","justify-between","items-center","py-2","border-b","border-gray-200","dark:border-gray-600","last:border-b-0"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"text-right"],[1,"font-semibold","text-gray-900","dark:text-white"],[1,"bg-red-50","dark:bg-red-900/20","rounded-xl","p-4","border","border-red-200","dark:border-red-800"],[1,"font-bold","text-red-800","dark:text-red-400","mb-3","flex","items-center"],[1,"fas","fa-history","mr-2"],[1,"space-y-3"],["class","bg-white dark:bg-gray-800 rounded-lg p-3",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-800","rounded-lg","p-3"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-medium","capitalize"],[1,"text-sm","text-gray-600","dark:text-gray-300"]],template:function(n,i){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),r(5,"Transaction Search"),t(),e(6,"p",4),r(7,"Search and manage transaction history"),t()(),e(8,"button",5),u("click",function(){return i.exportResults()}),s(9,"i",6),r(10,"Export "),t()()(),e(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10),s(15,"i",11),t(),e(16,"span",12),r(17,"Total"),t()(),e(18,"div",13),r(19),t(),e(20,"div",14),r(21,"Transactions Found"),t()(),e(22,"div",15)(23,"div",9)(24,"div",16),s(25,"i",17),t(),e(26,"span",18),r(27,"Completed"),t()(),e(28,"div",13),r(29),t(),e(30,"div",14),r(31,"Successful Transactions"),t()(),e(32,"div",19)(33,"div",9)(34,"div",20),s(35,"i",21),t(),e(36,"span",22),r(37,"Refunds"),t()(),e(38,"div",13),r(39),t(),e(40,"div",14),r(41,"Refunded Transactions"),t()(),e(42,"div",23)(43,"div",9)(44,"div",24),s(45,"i",25),t(),e(46,"span",26),r(47,"Voided"),t()(),e(48,"div",13),r(49),t(),e(50,"div",14),r(51,"Cancelled Transactions"),t()()(),e(52,"div",27)(53,"h3",28),s(54,"i",29),r(55,"Quick Filters "),t(),e(56,"div",30)(57,"button",31),u("click",function(){return i.applyQuickFilter("today")}),e(58,"div",32),s(59,"i",33),e(60,"div",34),r(61,"Today"),t()()(),e(62,"button",35),u("click",function(){return i.applyQuickFilter("yesterday")}),e(63,"div",32),s(64,"i",36),e(65,"div",37),r(66,"Yesterday"),t()()(),e(67,"button",38),u("click",function(){return i.applyQuickFilter("thisWeek")}),e(68,"div",32),s(69,"i",39),e(70,"div",40),r(71,"This Week"),t()()(),e(72,"button",41),u("click",function(){return i.applyQuickFilter("lastHour")}),e(73,"div",32),s(74,"i",42),e(75,"div",43),r(76,"Last Hour"),t()()(),e(77,"button",44),u("click",function(){return i.applyQuickFilter("highValue")}),e(78,"div",32),s(79,"i",45),e(80,"div",46),r(81,"High Value"),t()()(),e(82,"button",47),u("click",function(){return i.applyQuickFilter("refunded")}),e(83,"div",32),s(84,"i",48),e(85,"div",49),r(86,"Refunds"),t()()()()(),e(87,"div",27)(88,"div",50)(89,"h3",51),s(90,"i",52),r(91,"Advanced Filters "),t(),e(92,"div",53)(93,"button",54),u("click",function(){return i.applyFilters()}),s(94,"i",55),r(95,"Apply Filters "),t(),e(96,"button",56),u("click",function(){return i.resetFilters()}),s(97,"i",57),r(98,"Reset "),t()()(),e(99,"div",58)(100,"div")(101,"label",59),s(102,"i",60),r(103,"Order ID "),t(),e(104,"input",61),x("ngModelChange",function(l){return b(i.filters.orderId,l)||(i.filters.orderId=l),l}),t()(),e(105,"div")(106,"label",59),s(107,"i",62),r(108,"Customer Name "),t(),e(109,"input",63),x("ngModelChange",function(l){return b(i.filters.customerName,l)||(i.filters.customerName=l),l}),t()(),e(110,"div")(111,"label",59),s(112,"i",64),r(113,"Table Number "),t(),e(114,"input",65),x("ngModelChange",function(l){return b(i.filters.tableNumber,l)||(i.filters.tableNumber=l),l}),t()(),e(115,"div")(116,"label",59),s(117,"i",66),r(118,"Payment Method "),t(),e(119,"select",67),x("ngModelChange",function(l){return b(i.filters.paymentMethod,l)||(i.filters.paymentMethod=l),l}),e(120,"option",68),r(121,"All Methods"),t(),h(122,U,2,2,"option",69),t()(),e(123,"div")(124,"label",59),s(125,"i",70),r(126,"Status "),t(),e(127,"select",67),x("ngModelChange",function(l){return b(i.filters.status,l)||(i.filters.status=l),l}),e(128,"option",68),r(129,"All Status"),t(),h(130,G,3,4,"option",69),t()(),e(131,"div")(132,"label",59),s(133,"i",71),r(134,"Cashier "),t(),e(135,"select",67),x("ngModelChange",function(l){return b(i.filters.cashierName,l)||(i.filters.cashierName=l),l}),e(136,"option",68),r(137,"All Cashiers"),t(),h(138,K,2,2,"option",69),t()(),e(139,"div")(140,"label",59),s(141,"i",72),r(142,"Date From "),t(),e(143,"input",73),x("ngModelChange",function(l){return b(i.filters.dateFrom,l)||(i.filters.dateFrom=l),l}),t()(),e(144,"div")(145,"label",59),s(146,"i",74),r(147,"Date To "),t(),e(148,"input",73),x("ngModelChange",function(l){return b(i.filters.dateTo,l)||(i.filters.dateTo=l),l}),t()(),e(149,"div")(150,"label",59),s(151,"i",75),r(152,"Min Amount "),t(),e(153,"input",76),x("ngModelChange",function(l){return b(i.filters.amountMin,l)||(i.filters.amountMin=l),l}),t()(),e(154,"div")(155,"label",59),s(156,"i",77),r(157,"Max Amount "),t(),e(158,"input",78),x("ngModelChange",function(l){return b(i.filters.amountMax,l)||(i.filters.amountMax=l),l}),t()()()(),e(159,"div",79)(160,"div",80)(161,"div",81)(162,"h3",51),s(163,"i",82),r(164,"Search Results "),t(),e(165,"div",14),r(166),t()()(),e(167,"div",83)(168,"table",84)(169,"thead",85)(170,"tr")(171,"th",86),r(172,"Order Details"),t(),e(173,"th",86),r(174,"Customer"),t(),e(175,"th",86),r(176,"Payment"),t(),e(177,"th",86),r(178,"Amount"),t(),e(179,"th",86),r(180,"Status"),t(),e(181,"th",86),r(182,"Actions"),t()()(),e(183,"tbody",87),h(184,Z,39,16,"tr",88),t()()(),e(185,"div",89)(186,"div",81)(187,"div",90)(188,"select",91),x("ngModelChange",function(l){return b(i.itemsPerPage,l)||(i.itemsPerPage=l),l}),u("change",function(){return i.currentPage=1}),e(189,"option",92),r(190,"10 per page"),t(),e(191,"option",92),r(192,"25 per page"),t(),e(193,"option",92),r(194,"50 per page"),t()()(),e(195,"div",93)(196,"button",94),u("click",function(){return i.goToPage(i.currentPage-1)}),r(197," Previous "),t(),e(198,"span",90),r(199),t(),e(200,"button",94),u("click",function(){return i.goToPage(i.currentPage+1)}),r(201," Next "),t()()()()(),h(202,ie,74,16,"div",95),t()),n&2&&(o(19),c(i.totalItems),o(10),c(i.completedCount),o(10),c(i.refundedCount),o(10),c(i.voidedCount),o(55),f("ngModel",i.filters.orderId),o(5),f("ngModel",i.filters.customerName),o(5),f("ngModel",i.filters.tableNumber),o(5),f("ngModel",i.filters.paymentMethod),o(3),g("ngForOf",i.paymentMethods),o(5),f("ngModel",i.filters.status),o(3),g("ngForOf",i.statuses),o(5),f("ngModel",i.filters.cashierName),o(3),g("ngForOf",i.cashiers),o(5),f("ngModel",i.filters.dateFrom),o(5),f("ngModel",i.filters.dateTo),o(5),f("ngModel",i.filters.amountMin),o(5),f("ngModel",i.filters.amountMax),o(8),I(" Showing ",(i.currentPage-1)*i.itemsPerPage+1," - ",i.min(i.currentPage*i.itemsPerPage,i.totalItems)," of ",i.totalItems," transactions "),o(18),g("ngForOf",i.paginatedResults),o(4),f("ngModel",i.itemsPerPage),o(),g("value",10),o(2),g("value",25),o(2),g("value",50),o(3),g("disabled",i.currentPage===1),o(3),C(" Page ",i.currentPage," of ",i.totalPages," "),o(),g("disabled",i.currentPage===i.totalPages),o(2),g("ngIf",i.showTransactionModal&&i.selectedTransaction))},dependencies:[F,P,R,D,J,L,B,W,A,j,O,q,V]})};export{Q as TransactionSearchComponent};
