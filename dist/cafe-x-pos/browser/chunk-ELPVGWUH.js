import{a as N}from"./chunk-643NWZUQ.js";import{a as j}from"./chunk-XIU6GAQU.js";import{l as C}from"./chunk-EUT5JVHI.js";import{b as M,c as E,d as P,e as L,f as O,g as I,p as A,q as T}from"./chunk-TWKAALTM.js";import"./chunk-LVGQPJ4G.js";import{m as _,q as k}from"./chunk-E6ASQAUT.js";import{$a as a,Ea as d,Fa as g,Sa as c,Va as m,Za as e,_a as t,ba as v,e as h,fb as f,gb as y,kb as n,lb as S,qb as p,rb as b,sb as x,ub as w}from"./chunk-7EVLTLXU.js";function R(o,s){if(o&1&&(e(0,"div",48)(1,"div",49),a(2,"i",50),e(3,"span",51),n(4),t()()()),o&2){let i=y();d(4),S(i.errorMessage)}}function U(o,s){o&1&&(e(0,"span"),n(1,"Sign In to Dashboard"),t())}function W(o,s){o&1&&(e(0,"span",52),a(1,"i",53),n(2," Signing In... "),t())}var D=class o{constructor(s,i,r){this.authService=s;this.router=i;this.loadingService=r;sessionStorage.getItem("currentUser")&&this.authService.logout()}username="";password="";errorMessage="";isLoading=!1;loadingSubscription=new h;ngOnInit(){this.loadingSubscription=this.loadingService.loading$.subscribe(s=>this.isLoading=s)}ngOnDestroy(){this.loadingSubscription.unsubscribe()}navigateToCustomerLogin(){this.router.navigate(["/customer/login"])}onSubmit(){if(!this.username||!this.password){this.errorMessage="Please enter both username and password";return}this.errorMessage="";let s={username:this.username,password:this.password};this.authService.loginApi(s).subscribe({next:i=>{switch(this.authService.setCurrentUser(i.user),sessionStorage.setItem("currentUser",JSON.stringify(i.user)),i.accessToken&&sessionStorage.setItem("accessToken",i.accessToken),i.refreshToken&&sessionStorage.setItem("refreshToken",i.refreshToken),i.user.role){case"platform_owner":this.router.navigate(["/admin/platform-owner/dashboard"]);break;case"restaurant_owner":this.router.navigate(["/admin/restaurant-owner/dashboard"]);break;case"restaurant_manager":this.router.navigate(["/admin/restaurant-manager/dashboard"]);break;case"kitchen_manager":this.router.navigate(["/admin/kitchen-manager/display"]);break;case"cashier":this.router.navigate(["/admin/cashier/dashboard"]);break;case"waiter":this.router.navigate(["/admin/waiter/dashboard"]);break;default:this.errorMessage="Invalid user role for admin access";return}},error:i=>{this.errorMessage=i.error?.message||"Login failed. Please try again."}})}static \u0275fac=function(i){return new(i||o)(g(j),g(C),g(N))};static \u0275cmp=v({type:o,selectors:[["app-admin-login"]],standalone:!0,features:[w],decls:84,vars:6,consts:[[1,"min-h-screen","flex"],[1,"hidden","lg:flex","lg:w-1/2","bg-gradient-to-br","from-red-600","via-red-700","to-red-800","p-12","flex-col","justify-between","relative","overflow-hidden"],[1,"absolute","inset-0","opacity-5"],[1,"absolute","top-10","left-10","w-32","h-32","bg-white","rounded-full","animate-pulse",2,"animation-duration","4s"],[1,"absolute","bottom-20","right-20","w-24","h-24","bg-white","rounded-full","animate-pulse",2,"animation-delay","2s","animation-duration","4s"],[1,"absolute","top-1/2","left-1/4","w-16","h-16","bg-white","rounded-full","animate-pulse",2,"animation-delay","4s","animation-duration","4s"],[1,"relative","z-10"],[1,"flex","items-center","space-x-4","mb-8"],[1,"w-16","h-16","bg-white","rounded-2xl","flex","items-center","justify-center","shadow-lg"],[1,"fas","fa-coffee","text-red-600","text-2xl"],[1,"text-4xl","font-bold","text-white","mb-1"],[1,"text-red-100","text-base"],[1,"space-y-6"],[1,"text-2xl","font-semibold","text-white","mb-6"],[1,"space-y-4"],[1,"flex","items-center","space-x-4"],[1,"w-12","h-12","bg-white/20","rounded-lg","flex","items-center","justify-center"],[1,"fas","fa-bolt","text-white","text-xl"],[1,"text-white","font-semibold"],[1,"text-red-100","text-sm"],[1,"fas","fa-utensils","text-white","text-xl"],[1,"fas","fa-chart-line","text-white","text-xl"],[1,"w-full","lg:w-1/2","flex","items-center","justify-center","p-8","bg-gray-50","dark:bg-gray-900"],[1,"w-full","max-w-md"],[1,"lg:hidden","text-center","mb-8"],[1,"w-16","h-16","bg-gradient-to-br","from-red-600","to-red-700","rounded-2xl","flex","items-center","justify-center","shadow-lg","mx-auto","mb-4"],[1,"fas","fa-coffee","text-white","text-2xl"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-1"],[1,"text-gray-600","dark:text-gray-400"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-xl","p-8"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"space-y-6",3,"ngSubmit"],["for","username",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"fas","fa-user","text-gray-400"],["type","text","id","username","name","username","required","","placeholder","Enter your username",1,"block","w-full","pl-10","pr-3","py-3","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-gray-50","dark:bg-gray-700","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:border-transparent","transition-all","duration-200",3,"ngModelChange","ngModel"],["for","password",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"fas","fa-lock","text-gray-400"],["type","password","id","password","name","password","required","","placeholder","Enter your password",1,"block","w-full","pl-10","pr-3","py-3","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-gray-50","dark:bg-gray-700","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all","duration-200",3,"ngModelChange","ngModel"],["class","bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg p-3",4,"ngIf"],["type","submit",1,"w-full","bg-gradient-to-r","from-red-600","to-red-700","hover:from-red-700","hover:to-red-800","disabled:from-gray-400","disabled:to-gray-500","text-white","font-semibold","py-3","px-4","rounded-lg","transition-all","duration-200","transform","hover:scale-[1.02]","disabled:hover:scale-100","disabled:cursor-not-allowed","shadow-lg",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],[1,"mt-6","text-center"],[1,"text-sm","text-red-600","hover:text-red-700","dark:text-red-400","dark:hover:text-red-300","transition-colors",3,"click"],[1,"fas","fa-user","mr-1"],[1,"bg-red-50","dark:bg-red-900/30","border","border-red-200","dark:border-red-800","rounded-lg","p-3"],[1,"flex","items-center"],[1,"fas","fa-exclamation-triangle","text-red-500","mr-2"],[1,"text-red-700","dark:text-red-400","text-sm"],[1,"flex","items-center","justify-center"],[1,"fas","fa-spinner","fa-spin","mr-2"]],template:function(i,r){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),a(3,"div",3)(4,"div",4)(5,"div",5),t(),e(6,"div",6)(7,"div",7)(8,"div",8),a(9,"i",9),t(),e(10,"div")(11,"h1",10),n(12,"Cafe-X POS"),t(),e(13,"p",11),n(14,"Multi-Tenant Restaurant Management SaaS System"),t()()(),e(15,"div",12)(16,"h2",13),n(17,"Powerful Features"),t(),e(18,"div",14)(19,"div",15)(20,"div",16),a(21,"i",17),t(),e(22,"div")(23,"h3",18),n(24,"Real-time Updates"),t(),e(25,"p",19),n(26,"Live order tracking and instant notifications"),t()()(),e(27,"div",15)(28,"div",16),a(29,"i",20),t(),e(30,"div")(31,"h3",18),n(32,"Complete Order Management"),t(),e(33,"p",19),n(34,"From order placement to seamless billing"),t()()(),e(35,"div",15)(36,"div",16),a(37,"i",21),t(),e(38,"div")(39,"h3",18),n(40,"AI Powered Advanced Analytics"),t(),e(41,"p",19),n(42,"Detailed reports and business insights"),t()()()()()(),e(43,"div",6)(44,"p",19),n(45," \xA9 2025 Cafe-X POS. Revolutionizing restaurant operations. "),t()()(),e(46,"div",22)(47,"div",23)(48,"div",24)(49,"div",25),a(50,"i",26),t(),e(51,"h1",27),n(52,"Cafe-X POS"),t(),e(53,"p",28),n(54,"Admin Portal"),t()(),e(55,"div",29)(56,"div",30)(57,"h2",31),n(58,"Welcome Back"),t(),e(59,"p",28),n(60,"Sign in to your admin account"),t()(),e(61,"form",32),f("ngSubmit",function(){return r.onSubmit()}),e(62,"div")(63,"label",33),n(64," Username "),t(),e(65,"div",34)(66,"div",35),a(67,"i",36),t(),e(68,"input",37),x("ngModelChange",function(l){return b(r.username,l)||(r.username=l),l}),t()()(),e(69,"div")(70,"label",38),n(71," Password "),t(),e(72,"div",34)(73,"div",35),a(74,"i",39),t(),e(75,"input",40),x("ngModelChange",function(l){return b(r.password,l)||(r.password=l),l}),t()()(),c(76,R,5,1,"div",41),e(77,"button",42),c(78,U,2,0,"span",43)(79,W,3,0,"span",44),t()(),e(80,"div",45)(81,"button",46),f("click",function(){return r.navigateToCustomerLogin()}),a(82,"i",47),n(83," Customer Portal "),t()()()()()()),i&2&&(d(68),p("ngModel",r.username),d(7),p("ngModel",r.password),d(),m("ngIf",r.errorMessage),d(),m("disabled",r.isLoading),d(),m("ngIf",!r.isLoading),d(),m("ngIf",r.isLoading))},dependencies:[k,_,T,I,M,E,P,A,O,L],styles:["form[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #3b82f61a}button[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 10px 25px #00000026}.fa-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.bg-red-50[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.dark[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#374151;border-color:#4b5563}.dark[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #3b82f633}"]})};export{D as AdminLoginComponent};
