import{l as V}from"./chunk-EUT5JVHI.js";import{a as j}from"./chunk-LVGQPJ4G.js";import{l as I,m as T,q as D}from"./chunk-E6ASQAUT.js";import{$a as s,Aa as S,Ea as l,Sa as v,Va as f,Ya as C,Z as _,Za as e,_a as t,a as w,b as k,ba as O,cb as b,fb as c,gb as m,ka as p,kb as r,la as g,lb as y,mb as x,nb as h,ub as E}from"./chunk-7EVLTLXU.js";function F(o,a){if(o&1){let i=b();e(0,"section",59)(1,"div",27)(2,"h3",28),r(3,"Live Order"),t(),e(4,"span",60),r(5),t()(),e(6,"div",61)(7,"div",2)(8,"div")(9,"p",39),r(10,"Estimated ready in"),t(),e(11,"p",62),r(12),t()(),e(13,"button",63),c("click",function(){p(i);let d=m();return g(d.viewOrderDetails(d.liveOrder))}),r(14," View Details "),t()(),e(15,"div",64)(16,"div",65)(17,"div",66),s(18,"i",67),t(),s(19,"div",68),e(20,"div",66),s(21,"i",69),t(),s(22,"div",70),e(23,"div",71),s(24,"i",72),t(),s(25,"div",73),e(26,"div",71),s(27,"i",74),t()(),e(28,"div",75)(29,"span"),r(30,"Preparing"),t(),e(31,"span"),r(32,"Ready"),t(),e(33,"span"),r(34,"On the way"),t(),e(35,"span"),r(36,"Delivered"),t()()(),e(37,"div",76)(38,"div",77),r(39),e(40,"span",78),r(41),t()(),e(42,"div",79)(43,"button",80),c("click",function(){p(i);let d=m();return g(d.helpWithOrder())}),r(44,"Help"),t(),e(45,"button",81),c("click",function(){p(i);let d=m();return g(d.cancelOrder(d.liveOrder))}),r(46,"Cancel"),t()()()()()}if(o&2){let i=m();l(5),x("#",i.liveOrder.id.split("-").pop(),""),l(7),x("",i.liveOrder.estimatedTime," mins"),l(27),x(" Items: ",i.liveOrder.items.length," \u2022 Amount: "),l(2),x("\u20B9",i.liveOrder.totalAmount,"")}}function L(o,a){if(o&1){let i=b();e(0,"div",82),c("click",function(){let d=p(i).$implicit,u=m();return g(u.viewOrderDetails(d))}),e(1,"div",2)(2,"div")(3,"p",78),r(4),t(),e(5,"p",39),r(6),t(),e(7,"p",83),r(8),t()(),e(9,"div",13)(10,"p",78),r(11),t(),e(12,"div",84)(13,"button",85),c("click",function(){let d=p(i).$implicit,u=m();return g(u.viewOrderDetails(d))}),r(14,"View"),t(),e(15,"button",86),c("click",function(){let d=p(i).$implicit,u=m();return g(u.reorder(d))}),r(16,"Reorder"),t()()()()()}if(o&2){let i=a.$implicit,n=m();l(4),h("#",i.id.split("-").pop()," \u2022 ",n.getOrderStatusText(i.status),""),l(2),y(n.getOrderItemsText(i.items)),l(2),y(n.formatOrderDate(i.createdAt)),l(3),x("\u20B9",i.totalAmount,"")}}function $(o,a){if(o&1&&(e(0,"span",87),r(1),t()),o&2){let i=m();l(),x(" ",i.cartItemCount," ")}}function z(o,a){if(o&1&&(e(0,"div",110),r(1),t()),o&2){let i=m().$implicit;l(),x(" ",i.specialInstructions," ")}}function A(o,a){if(o&1&&(e(0,"div",106)(1,"div",107)(2,"div",108),r(3),t(),v(4,z,2,1,"div",109),t(),e(5,"div",13)(6,"div",95),r(7),t()()()),o&2){let i=a.$implicit;l(3),h("",i.quantity,"x ",i.menuItemName,""),l(),f("ngIf",i.specialInstructions),l(3),x("\u20B9",i.totalPrice,"")}}function N(o,a){if(o&1){let i=b();e(0,"div",88)(1,"div",89)(2,"div",90)(3,"div",91)(4,"h3",28),r(5,"Order Details"),t(),e(6,"button",92),c("click",function(){p(i);let d=m();return g(d.closeOrderDetails())}),s(7,"i",93),t()(),e(8,"div",94)(9,"div",2)(10,"span",39),r(11,"Order ID:"),t(),e(12,"span",95),r(13),t()(),e(14,"div",2)(15,"span",39),r(16,"Status:"),t(),e(17,"span",96),r(18),t()(),e(19,"div",2)(20,"span",39),r(21,"Date:"),t(),e(22,"span",97),r(23),t()(),e(24,"div",98)(25,"h4",99),r(26,"Items Ordered"),t(),e(27,"div",100),v(28,A,8,4,"div",101),t()(),e(29,"div",98)(30,"div",102)(31,"span"),r(32,"Total Amount:"),t(),e(33,"span"),r(34),t()()(),e(35,"div",103)(36,"button",104),c("click",function(){p(i);let d=m();return g(d.reorder(d.selectedOrder))}),r(37," Reorder "),t(),e(38,"button",105),c("click",function(){p(i);let d=m();return g(d.closeOrderDetails())}),r(39," Close "),t()()()()()()}if(o&2){let i=m();l(13),x("#",i.selectedOrder.id.split("-").pop(),""),l(4),C(i.getOrderStatusBadgeClass(i.selectedOrder.status)),l(),x(" ",i.getOrderStatusText(i.selectedOrder.status)," "),l(5),y(i.formatOrderDate(i.selectedOrder.createdAt)),l(5),f("ngForOf",i.selectedOrder.items),l(6),x("\u20B9",i.selectedOrder.totalAmount,"")}}var U=class o{mockDataService=_(j);router=_(V);currentUser=null;liveOrder=null;recentOrders=[];selectedOrder=null;showOrderDetails=!1;pendingOrdersCount=2;cartItemCount=3;ngOnInit(){this.initializeData(),this.loadOrders()}initializeData(){this.currentUser=this.mockDataService.getUserByRole("customer")||null}loadOrders(){this.mockDataService.getOrders().subscribe(a=>{let i=a.find(n=>["preparing","ready","on_the_way"].includes(n.status));i&&(this.liveOrder=k(w({},i),{estimatedTime:15})),this.recentOrders=a.filter(n=>["completed","served"].includes(n.status)).slice(0,5)})}toggleTheme(){let a=document.documentElement;a.classList.toggle("dark");let i=a.classList.contains("dark")?"dark":"light";sessionStorage.setItem("theme",i)}viewOrderDetails(a){this.selectedOrder=a,this.showOrderDetails=!0}closeOrderDetails(){this.showOrderDetails=!1,this.selectedOrder=null}helpWithOrder(){alert("Help with order - would open support chat")}cancelOrder(a){confirm("Are you sure you want to cancel this order?")&&alert("Order cancellation request sent")}reorder(a){alert("Reorder functionality - would add items to cart")}contactSupport(){alert("Contact support - would open chat interface")}viewFavorites(){alert("View favorites - would navigate to favorites page")}viewCart(){alert("View cart - would navigate to cart page")}getOrderStatusText(a){switch(a){case"pending":return"Pending";case"confirmed":return"Confirmed";case"preparing":return"Preparing";case"ready":return"Ready";case"on_the_way":return"On the Way";case"served":return"Served";case"completed":return"Completed";default:return a}}getOrderStatusBadgeClass(a){switch(a){case"pending":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600";case"confirmed":return"bg-blue-100 dark:bg-blue-900/30 text-blue-600";case"preparing":return"bg-orange-100 dark:bg-orange-900/30 text-orange-600";case"ready":return"bg-green-100 dark:bg-green-900/30 text-green-600";case"on_the_way":return"bg-purple-100 dark:bg-purple-900/30 text-purple-600";case"served":return"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600";case"completed":return"bg-gray-100 dark:bg-gray-700 text-gray-600";default:return"bg-gray-100 dark:bg-gray-700 text-gray-600"}}getOrderItemsText(a){return a.length===0?"No items":a.length===1?`${a[0].quantity}x ${a[0].menuItemName}`:`${a.length} items`}formatOrderDate(a){let i=new Date(a),n=new Date,d=n.getTime()-i.getTime(),u=Math.floor(d/(1e3*60*60*24));return u===0?"Today":u===1?"Yesterday":u<7?`${u} days ago`:i.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:i.getFullYear()!==n.getFullYear()?"numeric":void 0})}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=O({type:o,selectors:[["app-customer-orders"]],standalone:!0,features:[E],decls:89,vars:7,consts:[[1,"sticky","top-0","z-50","bg-white/95","dark:bg-gray-900/95","backdrop-blur-md","border-b","border-gray-200","dark:border-gray-700"],[1,"px-4","py-3"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-3"],[1,"w-12","h-12","bg-gradient-to-br","from-primary-500","to-primary-700","rounded-xl","flex","items-center","justify-center","shadow-lg"],[1,"relative"],[1,"fas","fa-coffee","text-white","text-lg"],[1,"font-bold","text-gray-900","dark:text-white","text-lg"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"p-2","rounded-full","bg-gray-100","dark:bg-gray-800","text-gray-600","dark:text-gray-300","hover:bg-gray-200","dark:hover:bg-gray-700","transition-all","duration-300",3,"click"],[1,"fas","fa-moon","dark:hidden","text-sm"],[1,"fas","fa-sun","hidden","dark:inline","text-sm"],[1,"flex","items-center","space-x-2"],[1,"text-right"],[1,"text-sm","font-medium","text-gray-900","dark:text-white"],["alt","Profile",1,"w-10","h-10","rounded-full","border-2","border-primary-500","shadow-md","hover:shadow-lg","transition-shadow","cursor-pointer",3,"src"],[1,"absolute","bottom-0","right-0","w-3","h-3","bg-green-500","border-2","border-white","dark:border-gray-900","rounded-full"],[1,"px-4","py-4","pb-20"],[1,"mb-6","animate__animated","animate__fadeInUp"],[1,"gradient-bg","rounded-2xl","p-6","text-white","relative","overflow-hidden"],[1,"absolute","top-0","right-0","w-32","h-32","bg-white/10","rounded-full","-translate-y-16","translate-x-16"],[1,"absolute","bottom-0","left-0","w-24","h-24","bg-white/10","rounded-full","translate-y-12","-translate-x-12"],[1,"relative","z-10"],[1,"text-2xl","font-bold","mb-2"],[1,"text-white/90"],["class","mb-8 animate__animated animate__fadeInUp animate__delay-1s",4,"ngIf"],[1,"mb-8","animate__animated","animate__fadeInUp","animate__delay-2s"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-lg","font-bold","text-gray-900","dark:text-white"],[1,"text-primary-500","text-sm","font-medium"],[1,"space-y-3"],["class","bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-sm menu-item-hover",3,"click",4,"ngFor","ngForOf"],[1,"mb-8","animate__animated","animate__fadeInUp","animate__delay-3s"],[1,"grid","grid-cols-2","gap-4"],[1,"gradient-bg","rounded-2xl","p-4","text-white"],[1,"text-sm","opacity-90"],[1,"font-semibold","mt-1"],[1,"mt-3","px-3","py-1.5","rounded-full","bg-white/20","text-white","text-xs",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","p-4","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"mt-3","px-3","py-1.5","rounded-full","bg-primary-500","text-white","text-xs",3,"click"],[1,"fixed","bottom-0","left-0","right-0","bg-white/95","dark:bg-gray-900/95","backdrop-blur-md","border-t","border-gray-200","dark:border-gray-700","z-50"],[1,"flex","items-center","justify-around","py-2"],["routerLink","/customer/menu",1,"flex","flex-col","items-center","space-y-1","p-2","text-gray-400","hover:text-primary-500","transition-colors"],[1,"fas","fa-home","text-xl"],[1,"text-xs","font-medium"],[1,"fas","fa-utensils","text-xl"],["routerLink","/customer/orders",1,"flex","flex-col","items-center","space-y-1","p-2","text-primary-500","relative"],[1,"fas","fa-receipt","text-xl"],[1,"absolute","-top-1","-right-1","bg-red-500","text-white","text-xs","rounded-full","h-4","w-4","flex","items-center","justify-center"],["routerLink","/customer/offers",1,"flex","flex-col","items-center","space-y-1","p-2","text-gray-400","hover:text-primary-500","transition-colors"],[1,"fas","fa-gift","text-xl"],["routerLink","/customer/profile",1,"flex","flex-col","items-center","space-y-1","p-2","text-gray-400","hover:text-primary-500","transition-colors"],[1,"fas","fa-user","text-xl"],[1,"fixed","bottom-24","right-4","z-40"],[1,"w-14","h-14","bg-primary-500","text-white","rounded-full","shadow-lg","hover:bg-primary-600","transition-all","duration-300","floating-animation","relative",3,"click"],[1,"fas","fa-shopping-cart","text-xl"],["class","absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"mb-8","animate__animated","animate__fadeInUp","animate__delay-1s"],[1,"text-xs","text-white","bg-primary-500","px-2","py-1","rounded-full"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","p-4","shadow-sm"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"px-3","py-2","rounded-xl","bg-gray-100","dark:bg-gray-700","text-gray-700","dark:text-gray-200","text-sm",3,"click"],[1,"mt-4"],[1,"flex","items-center"],[1,"step-dot","rounded-full","bg-primary-500","text-white","flex","items-center","justify-center"],[1,"fas","fa-fire","rounded-full","text-xs"],[1,"flex-1","h-1","bg-primary-500","mx-2"],[1,"fas","fa-clipboard-check","text-xs"],[1,"flex-1","h-1","bg-primary-300","dark:bg-primary-900/40","mx-2"],[1,"step-dot","rounded-full","bg-gray-200","dark:bg-gray-700","text-gray-400","flex","items-center","justify-center"],[1,"fas","fa-concierge-bell","text-xs"],[1,"flex-1","h-1","bg-gray-200","dark:bg-gray-700","mx-2"],[1,"fas","fa-truck","text-xs"],[1,"mt-3","flex","justify-between","text-xs","text-gray-500","dark:text-gray-400"],[1,"mt-4","flex","items-center","justify-between"],[1,"text-sm","text-gray-600","dark:text-gray-300"],[1,"font-semibold","text-gray-900","dark:text-white"],[1,"space-x-2"],[1,"px-3","py-2","rounded-xl","bg-white","dark:bg-gray-700","border","border-gray-200","dark:border-gray-600","text-sm","text-gray-700","dark:text-gray-200",3,"click"],[1,"px-3","py-2","rounded-xl","bg-red-50","dark:bg-red-900/20","text-red-600","dark:text-red-400","text-sm",3,"click"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","p-4","shadow-sm","menu-item-hover",3,"click"],[1,"text-xs","text-gray-400","dark:text-gray-500","mt-1"],[1,"mt-2","space-x-2"],[1,"px-3","py-1.5","rounded-full","bg-gray-100","dark:bg-gray-700","text-gray-700","dark:text-gray-200","text-xs",3,"click"],[1,"px-3","py-1.5","rounded-full","bg-primary-500","text-white","text-xs",3,"click"],[1,"absolute","-top-2","-right-2","bg-red-500","text-white","text-xs","rounded-full","h-5","w-5","flex","items-center","justify-center"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-2xl","max-w-md","w-full","max-h-[90vh]","overflow-y-auto"],[1,"p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"fas","fa-times"],[1,"space-y-4"],[1,"font-semibold"],[1,"px-2","py-1","rounded-full","text-xs","font-medium"],[1,"text-sm"],[1,"border-t","border-gray-200","dark:border-gray-700","pt-4"],[1,"font-semibold","mb-3"],[1,"space-y-2"],["class","flex items-center justify-between py-2",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","font-bold"],[1,"flex","space-x-2","pt-4"],[1,"flex-1","px-4","py-2","bg-primary-500","hover:bg-primary-600","text-white","rounded-lg","font-semibold","transition-colors",3,"click"],[1,"flex-1","px-4","py-2","bg-gray-100","dark:bg-gray-700","hover:bg-gray-200","dark:hover:bg-gray-600","text-gray-700","dark:text-gray-200","rounded-lg","font-semibold","transition-colors",3,"click"],[1,"flex","items-center","justify-between","py-2"],[1,"flex-1"],[1,"font-medium","text-sm"],["class","text-xs text-orange-600 dark:text-orange-400",4,"ngIf"],[1,"text-xs","text-orange-600","dark:text-orange-400"]],template:function(i,n){i&1&&(e(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),s(6,"i",6),t()(),e(7,"div")(8,"h1",7),r(9,"Cafe-X POS"),t(),e(10,"p",8),r(11,"Track your orders"),t()()(),e(12,"div",3)(13,"button",9),c("click",function(){return n.toggleTheme()}),s(14,"i",10)(15,"i",11),t(),e(16,"div",12)(17,"div",13)(18,"p",14),r(19),t(),e(20,"p",8),r(21,"Customer"),t()(),e(22,"div",5),s(23,"img",15)(24,"div",16),t()()()()()(),e(25,"main",17)(26,"div",18)(27,"div",19),s(28,"div",20)(29,"div",21),e(30,"div",22)(31,"h2",23),r(32,"Your Orders \u{1F9FE}"),t(),e(33,"p",24),r(34,"Track live status and revisit past orders."),t()()()(),v(35,F,47,4,"section",25),e(36,"section",26)(37,"div",27)(38,"h3",28),r(39,"Recent Orders"),t(),e(40,"button",29),r(41,"View All"),t()(),e(42,"div",30),v(43,L,17,5,"div",31),t()(),e(44,"section",32)(45,"div",33)(46,"div",34)(47,"p",35),r(48,"Need support?"),t(),e(49,"p",36),r(50,"We're here to help"),t(),e(51,"button",37),c("click",function(){return n.contactSupport()}),r(52,"Chat now"),t()(),e(53,"div",38)(54,"p",39),r(55,"Save your favourites"),t(),e(56,"p",36),r(57,"Quick reorders"),t(),e(58,"button",40),c("click",function(){return n.viewFavorites()}),r(59,"Explore"),t()()()()(),e(60,"nav",41)(61,"div",42)(62,"a",43),s(63,"i",44),e(64,"span",45),r(65,"Home"),t()(),e(66,"a",43),s(67,"i",46),e(68,"span",45),r(69,"Menu"),t()(),e(70,"a",47),s(71,"i",48),e(72,"span",45),r(73,"Orders"),t(),e(74,"span",49),r(75),t()(),e(76,"a",50),s(77,"i",51),e(78,"span",45),r(79,"Offers"),t()(),e(80,"a",52),s(81,"i",53),e(82,"span",45),r(83,"Profile"),t()()()(),e(84,"div",54)(85,"button",55),c("click",function(){return n.viewCart()}),s(86,"i",56),v(87,$,2,1,"span",57),t()(),v(88,N,40,7,"div",58)),i&2&&(l(19),y(n.currentUser==null?null:n.currentUser.name),l(4),f("src",n.currentUser==null?null:n.currentUser.avatar,S),l(12),f("ngIf",n.liveOrder),l(8),f("ngForOf",n.recentOrders),l(32),y(n.pendingOrdersCount),l(12),f("ngIf",n.cartItemCount>0),l(),f("ngIf",n.showOrderDetails&&n.selectedOrder))},dependencies:[D,I,T]})};export{U as CustomerOrdersComponent};
