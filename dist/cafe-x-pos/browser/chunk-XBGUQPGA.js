import{b as P,c as B,f as A,h as N,q as j}from"./chunk-TWKAALTM.js";import{a as F}from"./chunk-LVGQPJ4G.js";import{l as R,m as I,n as V,q as W}from"./chunk-E6ASQAUT.js";import{$a as p,Ea as r,Fa as k,Sa as C,Va as w,Ya as h,Za as e,_a as t,ba as S,cb as y,fb as x,gb as s,ka as u,kb as i,la as g,lb as c,mb as _,nb as M,qb as f,rb as v,sb as b,ub as E,xb as T,yb as D}from"./chunk-7EVLTLXU.js";function U(m,l){if(m&1){let n=y();e(0,"div",55),x("click",function(){let o=u(n).$implicit,d=s();return g(d.showTransactionDetails(o))}),e(1,"div",5)(2,"div",56),p(3,"i"),t(),e(4,"div")(5,"div",57),i(6),t(),e(7,"div",7),i(8),t()()(),e(9,"div",6)(10,"div",58),i(11),t(),e(12,"div",49),i(13),t()()()}if(m&2){let n=l.$implicit,a=s();r(2),h(a.getTransactionColor(n.type)+" bg-opacity-20"),r(),h(a.getTransactionIcon(n.type)),r(3),c(n.description),r(2),M(" ",a.formatDate(n.timestamp)," \u2022 ",n.cashierName," "),r(2),h(n.amount<0?"text-red-600":"text-green-600"),r(),_(" ",a.formatCurrency(n.amount<0?-n.amount:n.amount)," "),r(2),c(a.getTransactionTypeLabel(n.type))}}function O(m,l){m&1&&(e(0,"div",59),p(1,"i",60),e(2,"p"),i(3,"No transactions yet"),t()())}function z(m,l){if(m&1){let n=y();e(0,"div",61)(1,"div",62)(2,"div",0)(3,"div",63)(4,"div",64),p(5,"i",65),t(),e(6,"div")(7,"h3",40),i(8,"Safe Deposit"),t(),e(9,"p",18),i(10,"Deposit excess cash to safe"),t()()(),e(11,"div",66)(12,"div")(13,"label",67),i(14,"Deposit Amount"),t(),e(15,"input",68),b("ngModelChange",function(o){u(n);let d=s();return v(d.depositAmount,o)||(d.depositAmount=o),g(o)}),t()(),e(16,"div")(17,"label",67),i(18,"Reason"),t(),e(19,"input",69),b("ngModelChange",function(o){u(n);let d=s();return v(d.depositReason,o)||(d.depositReason=o),g(o)}),t()(),e(20,"div")(21,"label",67),i(22,"Manager PIN"),t(),e(23,"input",70),b("ngModelChange",function(o){u(n);let d=s();return v(d.managerPin,o)||(d.managerPin=o),g(o)}),t()()(),e(24,"div",71)(25,"button",72),x("click",function(){u(n);let o=s();return g(o.closeDepositModal())}),i(26," Cancel "),t(),e(27,"button",73),x("click",function(){u(n);let o=s();return g(o.processDeposit())}),i(28," Deposit to Safe "),t()()()()()}if(m&2){let n=s();r(15),f("ngModel",n.depositAmount),r(4),f("ngModel",n.depositReason),r(4),f("ngModel",n.managerPin)}}function q(m,l){if(m&1){let n=y();e(0,"div",61)(1,"div",62)(2,"div",0)(3,"div",63)(4,"div",74),p(5,"i",75),t(),e(6,"div")(7,"h3",40),i(8,"Add Change"),t(),e(9,"p",18),i(10,"Add additional change to drawer"),t()()(),e(11,"div",66)(12,"div")(13,"label",67),i(14,"Amount"),t(),e(15,"input",76),b("ngModelChange",function(o){u(n);let d=s();return v(d.withdrawalAmount,o)||(d.withdrawalAmount=o),g(o)}),t()(),e(16,"div")(17,"label",67),i(18,"Reason"),t(),e(19,"input",77),b("ngModelChange",function(o){u(n);let d=s();return v(d.withdrawalReason,o)||(d.withdrawalReason=o),g(o)}),t()(),e(20,"div")(21,"label",67),i(22,"Manager PIN"),t(),e(23,"input",78),b("ngModelChange",function(o){u(n);let d=s();return v(d.managerPin,o)||(d.managerPin=o),g(o)}),t()()(),e(24,"div",71)(25,"button",72),x("click",function(){u(n);let o=s();return g(o.closeWithdrawalModal())}),i(26," Cancel "),t(),e(27,"button",79),x("click",function(){u(n);let o=s();return g(o.processWithdrawal())}),i(28," Add Change "),t()()()()()}if(m&2){let n=s();r(15),f("ngModel",n.withdrawalAmount),r(4),f("ngModel",n.withdrawalReason),r(4),f("ngModel",n.managerPin)}}function H(m,l){if(m&1){let n=y();e(0,"div",61)(1,"div",62)(2,"div",0)(3,"div",63)(4,"div",80),p(5,"i",81),t(),e(6,"div")(7,"h3",40),i(8,"Shift Reconciliation"),t(),e(9,"p",18),i(10,"Count cash and reconcile drawer"),t()()(),e(11,"div",82)(12,"div",83)(13,"div",84)(14,"span"),i(15,"Starting Float:"),t(),e(16,"span",85),i(17),t()(),e(18,"div",84)(19,"span"),i(20,"Cash Sales:"),t(),e(21,"span",86),i(22),t()(),e(23,"div",84)(24,"span"),i(25,"Net Transactions:"),t(),e(26,"span",85),i(27),t()(),e(28,"div",87)(29,"span"),i(30,"Expected Balance:"),t(),e(31,"span",88),i(32),t()()()(),e(33,"div",66)(34,"div")(35,"label",67),i(36,"Actual Cash Count"),t(),e(37,"input",89),b("ngModelChange",function(o){u(n);let d=s();return v(d.actualCashCount,o)||(d.actualCashCount=o),g(o)}),x("input",function(){u(n);let o=s();return g(o.calculateVariance())}),t()(),e(38,"div",90)(39,"div",2)(40,"span",85),i(41,"Variance:"),t(),e(42,"span",91),i(43),t()(),e(44,"div",92),i(45),t()(),e(46,"div")(47,"label",67),i(48,"Manager PIN"),t(),e(49,"input",93),b("ngModelChange",function(o){u(n);let d=s();return v(d.managerPin,o)||(d.managerPin=o),g(o)}),t()()(),e(50,"div",71)(51,"button",72),x("click",function(){u(n);let o=s();return g(o.closeReconciliationModal())}),i(52," Cancel "),t(),e(53,"button",94),x("click",function(){u(n);let o=s();return g(o.processReconciliation())}),i(54," Complete Reconciliation "),t()()()()()}if(m&2){let n=s();r(17),c(n.formatCurrency((n.currentReconciliation==null?null:n.currentReconciliation.startingFloat)||0)),r(5),c(n.formatCurrency((n.currentReconciliation==null?null:n.currentReconciliation.cashSales)||0)),r(5),c(n.formatCurrency(n.getNetTransactions())),r(5),c(n.formatCurrency((n.currentReconciliation==null?null:n.currentReconciliation.expectedEndingBalance)||0)),r(5),f("ngModel",n.actualCashCount),r(5),h(n.getVarianceColor((n.currentReconciliation==null?null:n.currentReconciliation.variance)||0)),r(),_(" ",n.formatCurrency((n.currentReconciliation==null?null:n.currentReconciliation.variance)||0)," "),r(2),c(n.getVarianceLabel((n.currentReconciliation==null?null:n.currentReconciliation.variance)||0)),r(4),f("ngModel",n.managerPin)}}function G(m,l){if(m&1&&(e(0,"div")(1,"label",96),i(2,"Approved By"),t(),e(3,"div",103),i(4),t()()),m&2){let n=s(2);r(4),c(n.selectedTransaction.approvedBy)}}function J(m,l){if(m&1){let n=y();e(0,"div",61)(1,"div",62)(2,"div",0)(3,"div",63)(4,"div",56),p(5,"i"),t(),e(6,"div")(7,"h3",40),i(8,"Transaction Details"),t(),e(9,"p",18),i(10),t()()(),e(11,"div",66)(12,"div",95)(13,"div")(14,"label",96),i(15,"Amount"),t(),e(16,"div",48),i(17),t()(),e(18,"div")(19,"label",96),i(20,"Type"),t(),e(21,"div",97),i(22),t()()(),e(23,"div")(24,"label",67),i(25,"Description"),t(),e(26,"div",98)(27,"p",99),i(28),t()()(),e(29,"div",95)(30,"div")(31,"label",96),i(32,"Cashier"),t(),e(33,"div",99),i(34),t()(),e(35,"div")(36,"label",96),i(37,"Time"),t(),e(38,"div",100),i(39),t()()(),C(40,G,5,1,"div",101),t(),e(41,"button",102),x("click",function(){u(n);let o=s();return g(o.closeTransactionModal())}),i(42," Close "),t()()()()}if(m&2){let n=s();r(4),h(n.getTransactionColor(n.selectedTransaction.type)+" bg-opacity-20"),r(),h(n.getTransactionIcon(n.selectedTransaction.type)),r(5),c(n.getTransactionTypeLabel(n.selectedTransaction.type)),r(6),h(n.selectedTransaction.amount<0?"text-red-600":"text-green-600"),r(),_(" ",n.formatCurrency(n.selectedTransaction.amount<0?-n.selectedTransaction.amount:n.selectedTransaction.amount)," "),r(5),c(n.getTransactionTypeLabel(n.selectedTransaction.type)),r(6),c(n.selectedTransaction.description),r(6),c(n.selectedTransaction.cashierName),r(5),c(n.formatDate(n.selectedTransaction.timestamp)),r(),w("ngIf",n.selectedTransaction.approvedBy)}}var L=class m{constructor(l){this.mockDataService=l}currentUser=null;cashDrawer=null;transactions=[];currentReconciliation=null;showDepositModal=!1;showWithdrawalModal=!1;showReconciliationModal=!1;showTransactionModal=!1;depositAmount=0;depositReason="";withdrawalAmount=0;withdrawalReason="";managerPin="";actualCashCount=0;selectedTransaction=null;ngOnInit(){this.currentUser=this.mockDataService.getUserByRole("cashier")||null,this.mockDataService.getCashDrawers().subscribe(l=>{this.cashDrawer=l.find(n=>n.cashierId===this.currentUser?.id)||null}),this.mockDataService.getCashTransactions().subscribe(l=>{this.transactions=l.filter(n=>n.cashierId===this.currentUser?.id)}),this.mockDataService.getShiftReconciliations().subscribe(l=>{this.currentReconciliation=l.find(n=>n.cashierId===this.currentUser?.id)||null,this.currentReconciliation&&this.calculateExpectedBalance()})}openDepositModal(){this.showDepositModal=!0,this.depositAmount=0,this.depositReason="",this.managerPin=""}closeDepositModal(){this.showDepositModal=!1}openWithdrawalModal(){this.showWithdrawalModal=!0,this.withdrawalAmount=0,this.withdrawalReason="",this.managerPin=""}closeWithdrawalModal(){this.showWithdrawalModal=!1}processDeposit(){if(!this.validateManagerPin()){alert("Invalid manager PIN");return}if(!this.cashDrawer){alert("Cash drawer not found");return}let l={id:`txn-${Date.now()}`,type:"safe_deposit",amount:-this.depositAmount,description:this.depositReason||"Safe deposit",timestamp:new Date,cashierId:this.currentUser?.id||"",cashierName:this.currentUser?.name||"",approvedBy:"Manager"};this.mockDataService.addCashTransaction(l),this.mockDataService.updateCashDrawer(this.cashDrawer.id,{currentBalance:this.cashDrawer.currentBalance-this.depositAmount,lastUpdated:new Date}),this.closeDepositModal()}processWithdrawal(){if(!this.validateManagerPin()){alert("Invalid manager PIN");return}if(!this.cashDrawer){alert("Cash drawer not found");return}let l={id:`txn-${Date.now()}`,type:"change_fund",amount:this.withdrawalAmount,description:this.withdrawalReason||"Cash withdrawal",timestamp:new Date,cashierId:this.currentUser?.id||"",cashierName:this.currentUser?.name||"",approvedBy:"Manager"};this.mockDataService.addCashTransaction(l),this.mockDataService.updateCashDrawer(this.cashDrawer.id,{currentBalance:this.cashDrawer.currentBalance+this.withdrawalAmount,lastUpdated:new Date}),this.closeWithdrawalModal()}openReconciliationModal(){this.showReconciliationModal=!0,this.actualCashCount=0,this.managerPin=""}closeReconciliationModal(){this.showReconciliationModal=!1}calculateExpectedBalance(){this.currentReconciliation&&(this.currentReconciliation.expectedEndingBalance=this.currentReconciliation.startingFloat+this.currentReconciliation.cashSales+this.transactions.reduce((l,n)=>l+n.amount,0))}calculateVariance(){this.currentReconciliation&&(this.currentReconciliation.variance=this.actualCashCount-this.currentReconciliation.expectedEndingBalance)}processReconciliation(){if(!this.validateManagerPin()){alert("Invalid manager PIN");return}if(!this.currentReconciliation||!this.cashDrawer){alert("Reconciliation or cash drawer data not found");return}this.calculateVariance(),this.mockDataService.updateShiftReconciliation(this.currentReconciliation.id,{actualCount:this.actualCashCount,status:"approved",reconciledBy:"Manager",reconciledAt:new Date}),this.mockDataService.updateCashDrawer(this.cashDrawer.id,{status:"reconciled"}),this.closeReconciliationModal()}showTransactionDetails(l){this.selectedTransaction=l,this.showTransactionModal=!0}closeTransactionModal(){this.showTransactionModal=!1,this.selectedTransaction=null}validateManagerPin(){return this.managerPin==="1234"}getTransactionIcon(l){switch(l){case"deposit":return"fas fa-arrow-down";case"withdrawal":return"fas fa-arrow-up";case"float_start":return"fas fa-play-circle";case"float_end":return"fas fa-stop-circle";case"safe_deposit":return"fas fa-lock";case"change_fund":return"fas fa-coins";default:return"fas fa-question-circle"}}getTransactionColor(l){switch(l){case"deposit":return"text-red-600";case"withdrawal":return"text-green-600";case"float_start":return"text-blue-600";case"float_end":return"text-purple-600";case"safe_deposit":return"text-orange-600";case"change_fund":return"text-indigo-600";default:return"text-gray-600"}}getTransactionTypeLabel(l){switch(l){case"deposit":return"Deposit";case"withdrawal":return"Withdrawal";case"float_start":return"Float Start";case"float_end":return"Float End";case"safe_deposit":return"Safe Deposit";case"change_fund":return"Change Fund";default:return l}}getVarianceColor(l){return l===0?"text-green-600":l>0?"text-blue-600":"text-red-600"}getVarianceLabel(l){return l===0?"Balanced":l>0?"Over":"Short"}formatCurrency(l){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(l)}formatDate(l){return new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(l)}getTotalDeposits(){return this.transactions.filter(l=>l.type==="safe_deposit").reduce((l,n)=>l+Math.abs(n.amount),0)}getTotalWithdrawals(){return this.transactions.filter(l=>l.type==="change_fund").reduce((l,n)=>l+n.amount,0)}getNetTransactions(){return this.transactions.reduce((l,n)=>l+n.amount,0)}static \u0275fac=function(n){return new(n||m)(k(F))};static \u0275cmp=S({type:m,selectors:[["app-cash-management"]],standalone:!0,features:[E],decls:113,vars:23,consts:[[1,"p-6"],[1,"mb-6"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"text-gray-600","dark:text-gray-300"],[1,"flex","items-center","space-x-3"],[1,"text-right"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"text-2xl","font-bold","text-green-600"],[1,"w-12","h-12","bg-gradient-to-br","from-green-500","to-green-600","rounded-xl","flex","items-center","justify-center"],[1,"fas","fa-money-bill-wave","text-white","text-xl"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-gradient-to-br","from-green-50","to-green-100","dark:from-green-900/20","dark:to-green-800/20","rounded-2xl","p-6","border","border-green-200","dark:border-green-800"],[1,"flex","items-center","justify-between","mb-4"],[1,"w-12","h-12","rounded-xl","bg-green-500","flex","items-center","justify-center"],[1,"fas","fa-coins","text-white"],[1,"text-green-600","dark:text-green-400","text-sm","font-medium"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white","mb-1"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","dark:from-blue-900/20","dark:to-blue-800/20","rounded-2xl","p-6","border","border-blue-200","dark:border-blue-800"],[1,"w-12","h-12","rounded-xl","bg-blue-500","flex","items-center","justify-center"],[1,"fas","fa-play-circle","text-white"],[1,"text-blue-600","dark:text-blue-400","text-sm","font-medium"],[1,"bg-gradient-to-br","from-orange-50","to-orange-100","dark:from-orange-900/20","dark:to-orange-800/20","rounded-2xl","p-6","border","border-orange-200","dark:border-orange-800"],[1,"w-12","h-12","rounded-xl","bg-orange-500","flex","items-center","justify-center"],[1,"fas","fa-lock","text-white"],[1,"text-orange-600","dark:text-orange-400","text-sm","font-medium"],[1,"bg-gradient-to-br","from-purple-50","to-purple-100","dark:from-purple-900/20","dark:to-purple-800/20","rounded-2xl","p-6","border","border-purple-200","dark:border-purple-800"],[1,"w-12","h-12","rounded-xl","bg-purple-500","flex","items-center","justify-center"],[1,"fas","fa-plus-circle","text-white"],[1,"text-purple-600","dark:text-purple-400","text-sm","font-medium"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-lg","border","border-gray-200","dark:border-gray-700","p-6","mb-6"],[1,"text-lg","font-bold","text-gray-900","dark:text-white","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"p-4","bg-red-500","hover:bg-red-600","text-white","rounded-xl","font-semibold","transition-all","hover:scale-105","flex","items-center","justify-center","space-x-2",3,"click"],[1,"fas","fa-lock","text-xl"],[1,"p-4","bg-blue-500","hover:bg-blue-600","text-white","rounded-xl","font-semibold","transition-all","hover:scale-105","flex","items-center","justify-center","space-x-2",3,"click"],[1,"fas","fa-coins","text-xl"],[1,"p-4","bg-green-500","hover:bg-green-600","text-white","rounded-xl","font-semibold","transition-all","hover:scale-105","flex","items-center","justify-center","space-x-2",3,"click"],[1,"fas","fa-calculator","text-xl"],[1,"text-lg","font-bold","text-gray-900","dark:text-white"],[1,"px-3","py-1","rounded-full","text-sm","font-medium"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"text-center"],[1,"text-sm","text-gray-600","dark:text-gray-400","mb-1"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"text-xl","font-bold","text-green-600"],[1,"text-xl","font-bold","text-blue-600"],[1,"text-xl","font-bold"],[1,"text-xs","text-gray-500"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-lg","border","border-gray-200","dark:border-gray-700","p-6"],[1,"space-y-3","max-h-96","overflow-y-auto"],["class","flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",3,"click",4,"ngFor","ngForOf"],["class","text-center py-8 text-gray-500 dark:text-gray-400",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",4,"ngIf"],[1,"flex","items-center","justify-between","py-3","border-b","border-gray-100","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-700","cursor-pointer","transition-colors",3,"click"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"font-semibold"],[1,"text-center","py-8","text-gray-500","dark:text-gray-400"],[1,"fas","fa-history","text-3xl","mb-2"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50","p-4"],[1,"bg-white","dark:bg-gray-800","rounded-2xl","shadow-2xl","max-w-md","w-full"],[1,"flex","items-center","space-x-3","mb-4"],[1,"w-10","h-10","bg-red-100","dark:bg-red-900/30","rounded-xl","flex","items-center","justify-center"],[1,"fas","fa-lock","text-red-600"],[1,"space-y-4","mb-6"],[1,"block","text-sm","font-semibold","text-gray-700","dark:text-gray-300","mb-2"],["type","number","placeholder","Enter amount",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-red-500","focus:border-transparent","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., Excess cash from busy period",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-red-500","focus:border-transparent","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["type","password","placeholder","Enter manager PIN",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-red-500","focus:border-transparent","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],[1,"flex","space-x-3"],[1,"flex-1","px-4","py-2","border","border-gray-300","dark:border-gray-600","text-gray-700","dark:text-gray-300","rounded-lg","hover:bg-gray-50","dark:hover:bg-gray-700","transition-colors",3,"click"],[1,"flex-1","px-4","py-2","bg-red-500","hover:bg-red-600","text-white","rounded-lg","font-semibold","transition-colors",3,"click"],[1,"w-10","h-10","bg-blue-100","dark:bg-blue-900/30","rounded-xl","flex","items-center","justify-center"],[1,"fas","fa-coins","text-blue-600"],["type","number","placeholder","Enter amount",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-blue-500","focus:border-transparent","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., Low change in drawer",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-blue-500","focus:border-transparent","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],["type","password","placeholder","Enter manager PIN",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-blue-500","focus:border-transparent","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],[1,"flex-1","px-4","py-2","bg-blue-500","hover:bg-blue-600","text-white","rounded-lg","font-semibold","transition-colors",3,"click"],[1,"w-10","h-10","bg-green-100","dark:bg-green-900/30","rounded-xl","flex","items-center","justify-center"],[1,"fas","fa-calculator","text-green-600"],[1,"bg-gray-50","dark:bg-gray-700/50","rounded-xl","p-4","mb-6"],[1,"space-y-2","text-sm"],[1,"flex","justify-between"],[1,"font-medium"],[1,"font-medium","text-green-600"],[1,"flex","justify-between","font-bold","border-t","pt-2"],[1,"text-blue-600"],["type","number","step","0.01","placeholder","Count all cash in drawer",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-green-500","focus:border-transparent","dark:bg-gray-700","dark:text-white",3,"ngModelChange","input","ngModel"],[1,"bg-gray-50","dark:bg-gray-700/50","rounded-xl","p-4"],[1,"font-bold","text-lg"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-1"],["type","password","placeholder","Enter manager PIN",1,"w-full","px-4","py-3","border","border-gray-300","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-green-500","focus:border-transparent","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel"],[1,"flex-1","px-4","py-2","bg-green-500","hover:bg-green-600","text-white","rounded-lg","font-semibold","transition-colors",3,"click"],[1,"grid","grid-cols-2","gap-4"],[1,"block","text-sm","font-semibold","text-gray-700","dark:text-gray-300","mb-1"],[1,"text-gray-900","dark:text-white","font-medium"],[1,"bg-gray-50","dark:bg-gray-700/50","p-3","rounded-xl"],[1,"text-gray-900","dark:text-white"],[1,"text-gray-900","dark:text-white","text-sm"],[4,"ngIf"],[1,"w-full","px-4","py-2","bg-gray-100","dark:bg-gray-700","hover:bg-gray-200","dark:hover:bg-gray-600","text-gray-700","dark:text-gray-300","rounded-lg","font-semibold","transition-colors",3,"click"],[1,"text-green-600","font-medium"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),i(5,"Cash Management"),t(),e(6,"p",4),i(7,"Monitor cash drawer, deposits, and shift reconciliation"),t()(),e(8,"div",5)(9,"div",6)(10,"div",7),i(11,"Current Balance"),t(),e(12,"div",8),i(13),t()(),e(14,"div",9),p(15,"i",10),t()()()(),e(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14),p(20,"i",15),t(),e(21,"span",16),i(22,"Current Balance"),t()(),e(23,"div",17),i(24),t(),e(25,"div",18),i(26,"Available in drawer"),t()(),e(27,"div",19)(28,"div",13)(29,"div",20),p(30,"i",21),t(),e(31,"span",22),i(32,"Starting Float"),t()(),e(33,"div",17),i(34),t(),e(35,"div",18),i(36,"Shift start amount"),t()(),e(37,"div",23)(38,"div",13)(39,"div",24),p(40,"i",25),t(),e(41,"span",26),i(42,"Safe Deposits"),t()(),e(43,"div",17),i(44),t(),e(45,"div",18),i(46,"Deposited today"),t()(),e(47,"div",27)(48,"div",13)(49,"div",28),p(50,"i",29),t(),e(51,"span",30),i(52,"Change Funds"),t()(),e(53,"div",17),i(54),t(),e(55,"div",18),i(56,"Added today"),t()()(),e(57,"div",31)(58,"h3",32),i(59,"Cash Operations"),t(),e(60,"div",33)(61,"button",34),x("click",function(){return a.openDepositModal()}),p(62,"i",35),e(63,"span"),i(64,"Safe Deposit"),t()(),e(65,"button",36),x("click",function(){return a.openWithdrawalModal()}),p(66,"i",37),e(67,"span"),i(68,"Add Change"),t()(),e(69,"button",38),x("click",function(){return a.openReconciliationModal()}),p(70,"i",39),e(71,"span"),i(72,"Reconcile"),t()()()(),e(73,"div",31)(74,"div",13)(75,"h3",40),i(76,"Shift Reconciliation"),t(),e(77,"span",41),i(78),T(79,"titlecase"),t()(),e(80,"div",42)(81,"div",43)(82,"div",44),i(83,"Starting Float"),t(),e(84,"div",45),i(85),t()(),e(86,"div",43)(87,"div",44),i(88,"Cash Sales"),t(),e(89,"div",46),i(90),t()(),e(91,"div",43)(92,"div",44),i(93,"Expected Balance"),t(),e(94,"div",47),i(95),t()(),e(96,"div",43)(97,"div",44),i(98,"Variance"),t(),e(99,"div",48),i(100),t(),e(101,"div",49),i(102),t()()()(),e(103,"div",50)(104,"h3",32),i(105,"Transaction History"),t(),e(106,"div",51),C(107,U,14,11,"div",52)(108,O,4,0,"div",53),t()()(),C(109,z,29,3,"div",54)(110,q,29,3,"div",54)(111,H,55,10,"div",54)(112,J,43,13,"div",54)),n&2&&(r(13),c(a.formatCurrency((a.cashDrawer==null?null:a.cashDrawer.currentBalance)||0)),r(11),c(a.formatCurrency((a.cashDrawer==null?null:a.cashDrawer.currentBalance)||0)),r(10),c(a.formatCurrency((a.cashDrawer==null?null:a.cashDrawer.startingFloat)||0)),r(10),c(a.formatCurrency(a.getTotalDeposits())),r(10),c(a.formatCurrency(a.getTotalWithdrawals())),r(23),h((a.currentReconciliation==null?null:a.currentReconciliation.status)==="approved"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),r(),_(" ",D(79,21,a.currentReconciliation==null?null:a.currentReconciliation.status)," "),r(7),c(a.formatCurrency((a.currentReconciliation==null?null:a.currentReconciliation.startingFloat)||0)),r(5),c(a.formatCurrency((a.currentReconciliation==null?null:a.currentReconciliation.cashSales)||0)),r(5),c(a.formatCurrency((a.currentReconciliation==null?null:a.currentReconciliation.expectedEndingBalance)||0)),r(4),h(a.getVarianceColor((a.currentReconciliation==null?null:a.currentReconciliation.variance)||0)),r(),_(" ",a.formatCurrency((a.currentReconciliation==null?null:a.currentReconciliation.variance)||0)," "),r(2),c(a.getVarianceLabel((a.currentReconciliation==null?null:a.currentReconciliation.variance)||0)),r(5),w("ngForOf",a.transactions),r(),w("ngIf",a.transactions.length===0),r(),w("ngIf",a.showDepositModal),r(),w("ngIf",a.showWithdrawalModal),r(),w("ngIf",a.showReconciliationModal),r(),w("ngIf",a.showTransactionModal&&a.selectedTransaction))},dependencies:[W,R,I,V,j,P,N,B,A]})};export{L as CashManagementComponent};
